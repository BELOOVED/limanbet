var StorySlider=StorySlider||function(){function a(u){new Swiper(".js_story_slider_nested",{slidesPerView:1,nested:!0,allowTouchMove:!1,pagination:{el:".js_story_pgination",clickable:!1,bulletActiveClass:"nested__pagination-bullet-active",renderBullet:function(n,t){return`<div class="story-nested__pagination-bullet ${t} js_nested_pb" data-index="${n}"><span></span></div>`}},on:{reachEnd:function(n){n.slides.length>1&&s(n.wrapperEl.closest(".js_main_slide").dataset.blockId)},slideChange:function(r){let u=r.pagination.bullets,f=u.length;for(let n=0;n<f;n++)u[n].dataset.index<r.realIndex?u[n].classList.add("seen"):u[n].classList.remove("seen");c(r);n!=""&&n.cancel();n=r.isEnd?new customPauseResumeTimer(function(){t.slideNext(200)},i):new customPauseResumeTimer(function(){r.slideNext(200)},i)}}});t=new Swiper(`#js_story_slider_${r}`,{effect:"cube",cubeEffect:{shadow:!1},initialSlide:u,allowTouchMove:!0,on:{slideChange:l,afterInit:function(n){setTimeout(()=>{if(l(n),n.activeIndex==0){let t=n.slides[0].getElementsByClassName("js_story_slider_nested")[0].swiper;t.slides.length==1&&s(t.wrapperEl.closest(".js_main_slide").dataset.blockId)}},500)},activeIndexChange:function(n){setTimeout(()=>{let t=n.slides[n.activeIndex].getElementsByClassName("js_story_slider_nested")[0].swiper;t.slides.length==1&&s(t.wrapperEl.closest(".js_main_slide").dataset.blockId)},500)}}})}function c(n){let t=n.slides.length;i=h;for(let r=0;r<t;r++){let t=n.slides[r].querySelector("video");if(t!=null){let u=n.slides[r].closest(".js_story_slider_nested").querySelector(".nested__pagination-bullet-active").firstChild;if(r==n.activeIndex)t.currentTime=0,t.play(),i=t.duration*1e3-500,u.style.animationDuration=t.duration+"s";else{t.muted=!0;t.pause();let n=t.nextElementSibling;n.nodeName=="BUTTON"&&n.classList.add("muted")}}}}function v(t){n!=""&&n.pause();let i=t.target;o=i.closest(".js_story_slider_nested").querySelector(".nested__pagination-bullet-active").firstChild;o.style.animationPlayState="paused";i.nodeName=="VIDEO"?(u=i,u.pause()):u=""}function y(){n!=""&&n.resume();o.style.animationPlayState="running";u!=""&&u.play()}function s(n){let t=getCookie("_stsSeen");t.includes(n+",")||(setCookie("_stsSeen",t+=n+",",10),document.querySelector('.js_story_preview[data-block-id="'+n+'"]').classList.add("seen"))}function p(n){n.stopPropagation();t.isEnd?f():t.slideNext(400)}function w(r,u){if(r.stopPropagation(),t.isBeginning){let t=u.slides[0].closest(".js_story_slider_nested").querySelector(".nested__pagination-bullet-active");t.classList.remove("nested__pagination-bullet-active");void t.offsetWidth;t.classList.add("nested__pagination-bullet-active");n=new customPauseResumeTimer(function(){u.slideNext(200)},i)}else t.slidePrev(400)}function l(r){if(r.slides.length>0){n!=""&&n.cancel();let s=r.activeIndex,o=r.previousIndex,u=r.slides[s].getElementsByClassName("js_story_slider_nested")[0].swiper,e=o!=undefined?r.slides[o].getElementsByClassName("js_story_slider_nested")[0].swiper:"";if(e!=""){prevSwSlidesLength=e.slides.length;for(let n=0;n<prevSwSlidesLength;n++){let t=e.slides[n].querySelector("video");if(t!=null){let n=t.nextElementSibling;n.nodeName=="BUTTON"&&n.classList.add("muted");t.muted=!0}}}c(u);n=t.isEnd?u.isEnd?new customPauseResumeTimer(f,i):new customPauseResumeTimer(function(){u.slideNext(200)},i):u.slides.length>1?u.isEnd?new customPauseResumeTimer(function(){t.slideNext(200)},i):new customPauseResumeTimer(function(){u.slideNext(200)},i):new customPauseResumeTimer(function(){t.slideNext(200)},i)}}function f(){e.classList.add("hidden");document.getElementById("js_to_top").classList.remove("dis_none");document.body.classList.remove("no_scroll");n!=""&&n.cancel();document.querySelectorAll(".js_story_video").forEach(n=>{n.muted=!0,n.pause(),n.currentTime=0,n.nextElementSibling.classList.add("muted")});for(let n=0;n<t.slides.length;n++)t.slides[n].getElementsByClassName("js_story_slider_nested")[0].swiper.destroy();t.destroy()}function b(t){n!=""&&n.cancel();let i=t.target.closest(".js_story_slider_nested").swiper;window.innerWidth/2<t.clientX?i.isEnd?p(t):i.slideNext(400):i.isBeginning?w(t,i):i.slidePrev(400)}const h=4500;let e="",r="",t="",i=h,n="",o="",u="";return document.querySelectorAll(".js_nested_items").forEach(n=>{initPresslHoldEvent(n,v,y,b)}),document.querySelectorAll(".js_story_link").forEach(n=>{n.addEventListener("click",function(){n.dataset.href&&n.dataset.href!=""&&n.dataset.href!="#"&&window.open(n.dataset.href,n.dataset.target)})}),document.querySelectorAll(".js_story_preview").forEach(n=>{n.addEventListener("click",function(){a(this.dataset.index);document.getElementById("js_to_top").classList.add("dis_none");e.classList.remove("hidden");document.body.classList.add("no_scroll")})}),document.querySelectorAll(".js_story_video_mute_btn").forEach(n=>{n.addEventListener("click",function(){let t=this,n=t.previousElementSibling;n&&n.nodeName=="VIDEO"&&(n.muted?(n.muted=!1,t.classList.remove("muted")):(t.classList.add("muted"),n.muted=!0))})}),{init:function(n){r=n.bannerGroupId;e=document.getElementById(`js_story_cont_${r}`);new Swiper(`#js_story_preview_slider_${r}`,{slidesPerView:"auto",allowTouchMove:!0,centeredSlides:!1,spaceBetween:8});document.getElementById(`js_story_close_${r}`).addEventListener("click",function(){f()})},destorySlider:f}}()