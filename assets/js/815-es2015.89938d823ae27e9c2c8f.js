(self.webpackChunkfenrir=self.webpackChunkfenrir||[]).push([[815],{32815:function(t,e,i){"use strict";i.r(e),i.d(e,{VirtualsModule:function(){return di}});var s=i(6778),r=i(7035),o=i(97296),n=i(16617),a=i(97597),c=i(76857),l=i(72643),u=i(98995),f=i(46627),p=i(58862),d=i(65152);n.N.map.virtualNavbar;class g{constructor(t,e,i){this.translateFactory=t,this.navigationService=e,this.traderService=i}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.menuItems=new o.vJe(n.N.trader.name,"d",n.N.trader.isSportingTechTrader,this.traderService.trader).items,this.menuItems=(0,p.Z)(this.menuItems,["orderBy","ordering"],["asc","asc"]),this.traderService.trader.tSM&&this.setSubNavItems(this.menuItems)}setSubNavItems(t){const e=[];t.forEach(t=>{if(t.isActive&&t.isDesktop){const i="/bet/virtuals/betradar/"+t.url,s={name:t.name,url:i,icon:t.iconClass,gameType:"custom"};e.push(s)}}),this.navigationService.setSubNavItems(e)}}g.\u0275fac=function(t){return new(t||g)(l.Y36(o.chr),l.Y36(d.f),l.Y36(o._W6))},g.\u0275cmp=l.Xpm({type:g,selectors:[["virtual-navbar"]],decls:0,vars:0,template:function(t,e){},encapsulation:2});var m=i(96802),h=i(46583),x=i(80108);function v(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",8),l.TgZ(2,"div",9),l._UZ(3,"iframe",10),l.ALo(4,"safeUrl"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Q6J("src",l.lcZ(4,1,t.iframeUrl),l.uOi)}}function Z(t,e){1&t&&(l.TgZ(0,"div",11),l._UZ(1,"div",12),l.qZA())}function b(t,e){if(1&t&&l._UZ(0,"message-box",13),2&t){const t=l.oxw();l.Q6J("content",t.errors.message)}}function T(t,e){if(1&t&&(l.TgZ(0,"div",39),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Oqu(t.btgNO)}}function A(t,e){if(1&t&&(l.TgZ(0,"div",37),l._UZ(1,"div",19),l._UZ(2,"div",20),l._UZ(3,"div",21),l._UZ(4,"div",23),l._UZ(5,"div",24),l._UZ(6,"div",25),l.YNc(7,T,2,1,"div",38),l._UZ(8,"div",27),l._UZ(9,"div",30),l.qZA()),2&t){const t=l.oxw(3);l.xp6(7),l.Q6J("ngForOf",t.fixtures[0].btgs2)}}function q(t,e){if(1&t&&(l.TgZ(0,"span",43),l._uU(1),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw().$implicit;l.xp6(1),l.Oqu(e.fos[t+1].hSh)}}function w(t,e){if(1&t&&(l.TgZ(0,"span",43),l._uU(1),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw().$implicit;l.xp6(1),l.Oqu(e.fos[t+2].hSh)}}function S(t,e){if(1&t&&(l.TgZ(0,"span",43),l._uU(1),l.qZA(),l.YNc(2,q,2,1,"span",44),l.YNc(3,w,2,1,"span",44)),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw().$implicit;l.xp6(1),l.Oqu(e.hSh),l.xp6(1),l.Q6J("ngIf",s.fos[i+1]),l.xp6(1),l.Q6J("ngIf",s.fos[i+2])}}function I(t,e){if(1&t&&l.YNc(0,S,4,3,"ng-template",42),2&t){const t=e.index;l.Q6J("ngIf",0===t)}}function _(t,e){if(1&t&&(l.TgZ(0,"div",41),l.YNc(1,I,1,1,"ng-template",16),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.fos)}}function O(t,e){if(1&t&&(l.TgZ(0,"div",37),l._UZ(1,"div",19),l._UZ(2,"div",20),l.TgZ(3,"div",21),l._uU(4),l.ALo(5,"translate"),l.qZA(),l._UZ(6,"div",23),l._UZ(7,"div",24),l._UZ(8,"div",25),l.YNc(9,_,2,1,"div",40),l._UZ(10,"div",27),l.TgZ(11,"div",30),l._uU(12),l.ALo(13,"translate"),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(4),l.Oqu(l.lcZ(5,3,"TEXTS.MATCH")),l.xp6(5),l.Q6J("ngForOf",t.btgs2),l.xp6(3),l.Oqu(l.lcZ(13,5,"TEXTS.OTHER"))}}const U=function(t){return{active:t}},y=function(t,e,i){return{cI:0,sI:0,fI:t,bI:e,oI:i,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function N(t,e){if(1&t&&(l.TgZ(0,"a",46),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.TgZ(4,"span",47),l._uU(5),l.qZA(),l.qZA()),2&t){const t=l.oxw(2),e=t.index,i=t.$implicit,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(2);l.Q6J("ngClass",l.VKq(12,U,o.activeBetButtons[s.fos[e+1].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(14,y,r,s.bI,e+1)),l.uIk("foId",s.fos[e+1].foId),l.xp6(1),l.hij("",l.xi3(2,6,l.xi3(3,9,s.fos[e+1].hO,"1.2-2"),o.ofs.aOFI)," "),l.xp6(4),l.Oqu(i.hSh)}}function F(t,e){if(1&t&&(l.TgZ(0,"a",46),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.TgZ(4,"span",47),l._uU(5),l.qZA(),l.qZA()),2&t){const t=l.oxw(2),e=t.index,i=t.$implicit,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(2);l.Q6J("ngClass",l.VKq(12,U,o.activeBetButtons[s.fos[e+2].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(14,y,r,s.bI,e+2)),l.uIk("foId",s.fos[e+2].foId),l.xp6(1),l.hij("",l.xi3(2,6,l.xi3(3,9,s.fos[e+2].hO,"1.2-2"),o.ofs.aOFI)," "),l.xp6(4),l.Oqu(i.hSh)}}function C(t,e){if(1&t&&(l.TgZ(0,"a",46),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.TgZ(4,"span",47),l._uU(5),l.qZA(),l.qZA(),l.YNc(6,N,6,18,"a",48),l.YNc(7,F,6,18,"a",48)),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(2);l.Q6J("ngClass",l.VKq(14,U,o.activeBetButtons[e.foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(16,y,r,s.bI,i)),l.uIk("foId",e.foId),l.xp6(1),l.hij(" ",l.xi3(2,8,l.xi3(3,11,e.hO,"1.2-2"),o.ofs.aOFI)," "),l.xp6(4),l.Oqu(e.hSh),l.xp6(1),l.Q6J("ngIf",s.fos[i+1]),l.xp6(1),l.Q6J("ngIf",s.fos[i+2])}}function E(t,e){if(1&t&&l.YNc(0,C,8,20,"ng-template",42),2&t){const t=e.index;l.Q6J("ngIf",0===t)}}function Q(t,e){if(1&t&&(l.TgZ(0,"div",45),l.YNc(1,E,1,1,"ng-template",16),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.fos)}}function J(t,e){if(1&t&&(l.TgZ(0,"a",53),l.TgZ(1,"span",54),l._uU(2),l.qZA(),l.TgZ(3,"span",55),l._uU(4),l.ALo(5,"oF"),l.ALo(6,"number"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw(),i=e.$implicit,s=e.index,r=l.oxw().index,o=l.oxw(2);l.s9C("title",i.fos[t+1].hSh),l.Q6J("ngClass",l.VKq(13,U,o.activeBetButtons[i.fos[t+1].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(15,y,r,s,t+1)),l.uIk("foId",i.fos[t+1].foId),l.xp6(2),l.Oqu(i.fos[t+1].hSh),l.xp6(2),l.Oqu(l.xi3(5,7,l.xi3(6,10,i.fos[t+1].hO,"1.2-2"),o.ofs.aOFI))}}function B(t,e){if(1&t&&(l.TgZ(0,"a",53),l.TgZ(1,"span",54),l._uU(2),l.qZA(),l.TgZ(3,"span",55),l._uU(4),l.ALo(5,"oF"),l.ALo(6,"number"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw(),i=e.$implicit,s=e.index,r=l.oxw().index,o=l.oxw(2);l.s9C("title",i.fos[t+2].hSh),l.Q6J("ngClass",l.VKq(13,U,o.activeBetButtons[i.fos[t+2].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(15,y,r,s,t+2)),l.uIk("foId",i.fos[t+2].foId),l.xp6(2),l.Oqu(i.fos[t+2].hSh),l.xp6(2),l.Oqu(l.xi3(5,7,l.xi3(6,10,i.fos[t+2].hO,"1.2-2"),o.ofs.aOFI))}}function L(t,e){if(1&t&&(l.TgZ(0,"div",52),l.TgZ(1,"a",53),l.TgZ(2,"span",54),l._uU(3),l.qZA(),l.TgZ(4,"span",55),l._uU(5),l.ALo(6,"oF"),l.ALo(7,"number"),l.qZA(),l.qZA(),l.YNc(8,J,7,19,"a",56),l.YNc(9,B,7,19,"a",56),l.qZA()),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw(),r=s.index,o=s.$implicit,n=l.oxw().index,a=l.oxw(2);l.xp6(1),l.s9C("title",e.hSh),l.Q6J("ngClass",l.VKq(15,U,a.activeBetButtons[e.foId+"-1"]))("sport-type",a.sport)("bet-map",l.kEZ(17,y,n,r,i)),l.uIk("foId",e.foId),l.xp6(2),l.Oqu(e.hSh),l.xp6(2),l.Oqu(l.xi3(6,9,l.xi3(7,12,e.hO,"1.2-2"),a.ofs.aOFI)),l.xp6(3),l.Q6J("ngIf",o.dt[0]>1&&o.fos[i+1]),l.xp6(1),l.Q6J("ngIf",3===o.dt[0]&&o.fos[i+2])}}function Y(t,e){if(1&t&&l.YNc(0,L,10,21,"div",51),2&t){const t=e.index,i=l.oxw().$implicit;l.Q6J("ngIf",t%i.dt[0]==0)}}function $(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l.TgZ(2,"div",49),l.TgZ(3,"div",50),l._uU(4),l.qZA(),l.qZA(),l.YNc(5,Y,1,1,"ng-template",16),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(4),l.Oqu(t.btgN),l.xp6(1),l.Q6J("ngForOf",t.fos)}}function M(t,e){if(1&t){const t=l.EpF();l.YNc(0,A,10,1,"div",17),l.YNc(1,O,14,7,"div",17),l.TgZ(2,"div",18),l._UZ(3,"div",19),l.TgZ(4,"div",20),l._uU(5),l.qZA(),l.TgZ(6,"div",21),l.TgZ(7,"a",22),l._uU(8),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"a",22),l._uU(11),l.qZA(),l.qZA(),l._UZ(12,"div",23),l._UZ(13,"div",24),l._UZ(14,"div",25),l.YNc(15,Q,2,1,"div",26),l.TgZ(16,"div",27),l.TgZ(17,"a",28),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).openStatistic(e)}),l.TgZ(18,"i",29),l._uU(19,"equalizer"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",30),l.TgZ(21,"a",31),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return e.active=!e.active}),l._uU(22),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",32),l.TgZ(24,"div",33),l.TgZ(25,"h6",34),l._uU(26),l.TgZ(27,"b"),l._uU(28,"VS"),l.qZA(),l._uU(29),l._UZ(30,"br"),l.qZA(),l.TgZ(31,"a",35),l.NdJ("click",function(){return l.CHM(t).$implicit.active=!1}),l.TgZ(32,"i",29),l._uU(33,"close"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(34,"table"),l.TgZ(35,"tbody"),l.YNc(36,$,6,2,"tr",36),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index;l.Q6J("ngIf",0===i),l.xp6(1),l.Q6J("ngIf",0===i),l.xp6(4),l.Oqu(t.mCod),l.xp6(3),l.Oqu(t.hcN),l.xp6(3),l.Oqu(t.acN),l.xp6(4),l.Q6J("ngForOf",t.btgs2),l.xp6(7),l.hij("+",t.fDS,""),l.xp6(1),l.Q6J("ngClass",l.VKq(11,U,t.active)),l.xp6(3),l.hij(" ",t.hcN," "),l.xp6(3),l.hij(" ",t.acN," "),l.xp6(7),l.Q6J("ngForOf",t.btgs)}}function P(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",14),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.ALo(7,"translate"),l.qZA(),l._UZ(8,"i",3),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"div",15),l.YNc(11,M,37,13,"ng-template",16),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy(" ",l.lcZ(6,8,"TEXTS.VTO_TENNIS")," ",t.seasonInfo.Tournament," - ",l.lcZ(7,10,"TEXTS.MATCHDAY")," ",t.seasonInfo.Round," "),l.xp6(6),l.Q6J("ngForOf",t.fixtures)}}function k(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",18),l.TgZ(1,"div",21),l.TgZ(2,"a",22),l._uU(3),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"a",22),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"div",30),l.TgZ(8,"span",57),l._uU(9),l.qZA(),l.TgZ(10,"a",28),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).openStatistic(e)}),l.TgZ(11,"i",29),l._uU(12,"equalizer"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(3),l.Oqu(t.hcN),l.xp6(3),l.Oqu(t.acN),l.xp6(3),l.Oqu(t.cSc)}}function V(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",14),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.ALo(7,"translate"),l.qZA(),l._UZ(8,"i",3),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"div",15),l.TgZ(11,"div",37),l.TgZ(12,"div",21),l._uU(13),l.ALo(14,"translate"),l.qZA(),l.qZA(),l.YNc(15,k,13,3,"ng-template",16),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy("",l.lcZ(6,9,"TEXTS.VFEC_SEASON")," ",t.seasonInfo.season_name,"- ",l.lcZ(7,11,"TEXTS.MATCHDAY")," ",t.seasonInfo.match_day,""),l.xp6(8),l.Oqu(l.lcZ(14,13,"TEXTS.MATCH")),l.xp6(2),l.Q6J("ngForOf",t.oldFixtures)}}n.N.map.virtualTennis;class j{constructor(t,e,i,s,r,o,n,l){this.virtualService=t,this.rootService=e,this.traderService=i,this.applicationService=s,this.translateFactory=r,this.translate=o,this.ofs=n,this.route=l,this.inProgress=!0,this.oldMatches=null,this.seasonInfo=null,this.sport={cs:[{sns:[{fs:null}]}]},this.fixtureShow={oldF:!1,newF:!0},this.errors={show:!1,message:""},this.destroyed$=new c.xQ;const u=s.settingList.find(t=>"iframe-virtual-tennis"===t.parameter),f=new RegExp(/{lang}/,"g");this.iframeUrl=u.value.replace(f,r.currentLang.code),this.route.url.pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(t[1].path,"d"),this.beforeAction(this.virtualSportObj.sortName)})}get activeBetButtons(){return this.rootService.activeBetButtons}beforeAction(t){window.setVtoRound=e=>{const i={sportTypeId:42,seasonNumber:Number(e.Tournament),matchDay:Number(e.Round),urlParam:t};this.seasonInfo=e,this.pullvirtualTennisData(i)}}pullvirtualTennisData(t){const e=new o.qPv(t);this.inProgress=!0,this.virtualService.getVirtualSomeFixtures(e).then(t=>{try{void 0!==t.cScs?(this.oldFixtures=t.cScs,this.fixtureShow={oldF:!0,newF:!1}):(this.fixtures=t,this.fixtureShow={oldF:!1,newF:!0},this.sport.cs[0].sns[0].fs=this.fixtures),this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1},t=>{this.oldFixtures=null,this.fixtures=null,this.inProgress=!1})}openStatistic(t){null!==document.getElementsByName("vto_iframe")[0]&&window.document.vto_iframe.openVtoStats(t.bId)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function G(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",8),l.TgZ(2,"div",9),l._UZ(3,"iframe",10),l.ALo(4,"safeUrl"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Q6J("src",l.lcZ(4,1,t.iframeUrl),l.uOi)}}function H(t,e){1&t&&(l.TgZ(0,"div",11),l._UZ(1,"div",12),l.qZA())}function R(t,e){if(1&t&&l._UZ(0,"message-box",13),2&t){const t=l.oxw();l.Q6J("content",t.errors.message)}}function D(t,e){if(1&t&&(l.TgZ(0,"div",41),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Oqu(t.btgNO)}}function X(t,e){if(1&t&&(l.TgZ(0,"div",39),l._UZ(1,"div",20),l._UZ(2,"div",21),l._UZ(3,"div",22),l._UZ(4,"div",24),l._UZ(5,"div",25),l._UZ(6,"div",26),l.YNc(7,D,2,1,"div",40),l._UZ(8,"div",28),l._UZ(9,"div",31),l.qZA()),2&t){const t=l.oxw(4);l.xp6(7),l.Q6J("ngForOf",t.fixtures[0].btgs2)}}function K(t,e){1&t&&(l.TgZ(0,"div",39),l.TgZ(1,"div",22),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"div",31),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Oqu(l.lcZ(3,2,"TEXTS.MATCH")),l.xp6(3),l.Oqu(l.lcZ(6,4,"TEXTS.OTHER")))}j.\u0275fac=function(t){return new(t||j)(l.Y36(o.xZw),l.Y36(o.U$c),l.Y36(o._W6),l.Y36(o.Wd0),l.Y36(o.chr),l.Y36(u.sK),l.Y36(o.Wo4),l.Y36(f.gz))},j.\u0275cmp=l.Xpm({type:j,selectors:[["app-virtual-tennis"]],decls:14,vars:11,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["contentCode","virtual-tennis"],[1,"modul-content"],[1,"virtual-view"],["name","vto_iframe","width","760px","height","420px",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"fixture-container"],["ngFor","",3,"ngForOf"],["class","fixture-header flex-container",4,"ngIf"],[1,"fixture-body","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],["href","javascript:;"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[1,"element","statistic"],["href","javascript:;",1,"statistic","right",3,"click"],[1,"material-icons"],[1,"element","other"],["href","javascript:;",1,"btn","other-btn","waves-effect","waves-light","modal-trigger",3,"click"],[1,"caption-pg",3,"ngClass"],[1,"caption-pg-header","flex-container"],[1,"flex-item","title"],["href","javascript:;",1,"close-caption",3,"click"],[4,"ngFor","ngForOf"],[1,"fixture-header","flex-container"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],["class","element flex-item bet-type flex-container",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type","flex-container"],[3,"ngIf"],[1,"flex-item"],["class","flex-item",4,"ngIf"],[1,"element","flex-item","flex-container","bet-type"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],[1,"bet-btn-text"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],[1,"flex-container"],[1,"flex-item","center-align"],["class","flex-container bet-type-btn-group",4,"ngIf"],[1,"flex-container","bet-type-btn-group"],["href","javascript:;","bet-button","",1,"flex-container","btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map","title"],[1,"flex-item","bet-btn-text"],[1,"bet-btn-odd"],["href","javascript:;","class","flex-container btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map","title",4,"ngIf"],["href","javascript:;",1,"left","btn","other-btn","waves-effect","waves-light"]],template:function(t,e){1&t&&(l._UZ(0,"virtual-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.qZA(),l._UZ(7,"i",3),l.qZA(),l.YNc(8,v,5,3,"ng-container",4),l.qZA(),l.YNc(9,Z,2,0,"div",5),l.YNc(10,b,1,1,"message-box",6),l.YNc(11,P,12,12,"ng-container",4),l.YNc(12,V,16,15,"ng-container",4),l._UZ(13,"app-static-inner-content",7)),2&t&&(l.xp6(3),l.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),l.xp6(2),l.hij(" ",l.lcZ(6,9,"TEXTS.VIRTUAL_TENNIS")," "),l.xp6(3),l.Q6J("ngIf",e.iframeUrl),l.xp6(1),l.Q6J("ngIf",e.inProgress),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.errors.show),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.fixtures&&e.fixtures.length&&e.fixtureShow.newF&&!e.fixtureShow.oldF),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.oldFixtures&&e.oldFixtures.length&&!e.fixtureShow.newF&&e.fixtureShow.oldF))},directives:[g,o.wRe,r.O5,m.n,h.W,r.sg,r.mk,o.q75],pipes:[u.X$,x.Q,o.zz4,r.JJ],encapsulation:2});const z=function(t){return{active:t}},W=function(t,e,i){return{cI:0,sI:0,fI:t,bI:e,oI:i,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function tt(t,e){if(1&t&&(l.TgZ(0,"a",44),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.TgZ(4,"span",45),l._uU(5),l.qZA(),l.qZA()),2&t){const t=l.oxw(2),e=t.index,i=t.$implicit,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(3);l.Q6J("ngClass",l.VKq(12,z,o.activeBetButtons[s.fos[e+1].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(14,W,r,s.bI,e+1)),l.uIk("foId",s.fos[e+1].foId),l.xp6(1),l.hij(" ",l.xi3(2,6,l.xi3(3,9,s.fos[e+1].hO,"1.2-2"),o.ofs.aOFI)," "),l.xp6(4),l.Oqu(i.hSh)}}function et(t,e){if(1&t&&(l.TgZ(0,"a",44),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.TgZ(4,"span",45),l._uU(5),l.qZA(),l.qZA()),2&t){const t=l.oxw(2),e=t.index,i=t.$implicit,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(3);l.Q6J("ngClass",l.VKq(12,z,o.activeBetButtons[s.fos[e+2].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(14,W,r,s.bI,e+2)),l.uIk("foId",s.fos[e+2].foId),l.xp6(1),l.hij(" ",l.xi3(2,6,l.xi3(3,9,s.fos[e+2].hO,"1.2-2"),o.ofs.aOFI)," "),l.xp6(4),l.Oqu(i.hSh)}}function it(t,e){if(1&t&&(l.TgZ(0,"a",44),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.TgZ(4,"span",45),l._uU(5),l.qZA(),l.qZA(),l.YNc(6,tt,6,18,"a",46),l.YNc(7,et,6,18,"a",46)),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(3);l.Q6J("ngClass",l.VKq(14,z,o.activeBetButtons[e.foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(16,W,r,s.bI,i)),l.uIk("foId",e.foId),l.xp6(1),l.hij(" ",l.xi3(2,8,l.xi3(3,11,e.hO,"1.2-2"),o.ofs.aOFI)," "),l.xp6(4),l.Oqu(e.hSh),l.xp6(1),l.Q6J("ngIf",s.fos[i+1]&&!s.fos[i+1].aO),l.xp6(1),l.Q6J("ngIf",s.fos[i+2]&&!s.fos[i+2].aO)}}function st(t,e){if(1&t&&l.YNc(0,it,8,20,"ng-template",43),2&t){const t=e.index;l.Q6J("ngIf",0===t)}}function rt(t,e){if(1&t&&(l.TgZ(0,"div",42),l.YNc(1,st,1,1,"ng-template",17),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.fos)}}function ot(t,e){if(1&t&&(l.TgZ(0,"a",51),l.TgZ(1,"span",52),l._uU(2),l.qZA(),l.TgZ(3,"span",53),l._uU(4),l.ALo(5,"oF"),l.ALo(6,"number"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw(),i=e.$implicit,s=e.index,r=l.oxw().index,o=l.oxw(3);l.s9C("title",i.fos[t+1].hSh),l.Q6J("ngClass",l.VKq(13,z,o.activeBetButtons[i.fos[t+1].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(15,W,r,s,t+1)),l.uIk("foId",i.fos[t+1].foId),l.xp6(2),l.Oqu(i.fos[t+1].hSh),l.xp6(2),l.Oqu(l.xi3(5,7,l.xi3(6,10,i.fos[t+1].hO,"1.2-2"),o.ofs.aOFI))}}function nt(t,e){if(1&t&&(l.TgZ(0,"a",51),l.TgZ(1,"span",52),l._uU(2),l.qZA(),l.TgZ(3,"span",53),l._uU(4),l.ALo(5,"oF"),l.ALo(6,"number"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw(),i=e.$implicit,s=e.index,r=l.oxw().index,o=l.oxw(3);l.s9C("title",i.fos[t+2].hSh),l.Q6J("ngClass",l.VKq(13,z,o.activeBetButtons[i.fos[t+2].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(15,W,r,s,t+2)),l.uIk("foId",i.fos[t+2].foId),l.xp6(2),l.Oqu(i.fos[t+2].hSh),l.xp6(2),l.Oqu(l.xi3(5,7,l.xi3(6,10,i.fos[t+2].hO,"1.2-2"),o.ofs.aOFI))}}function at(t,e){if(1&t&&(l.TgZ(0,"div",50),l.TgZ(1,"a",51),l.TgZ(2,"span",52),l._uU(3),l.qZA(),l.TgZ(4,"span",53),l._uU(5),l.ALo(6,"oF"),l.ALo(7,"number"),l.qZA(),l.qZA(),l.YNc(8,ot,7,19,"a",54),l.YNc(9,nt,7,19,"a",54),l.qZA()),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw(),r=s.index,o=s.$implicit,n=l.oxw().index,a=l.oxw(3);l.xp6(1),l.s9C("title",e.hSh),l.Q6J("ngClass",l.VKq(15,z,a.activeBetButtons[e.foId+"-1"]))("sport-type",a.sport)("bet-map",l.kEZ(17,W,n,r,i)),l.uIk("foId",e.foId),l.xp6(2),l.Oqu(e.hSh),l.xp6(2),l.Oqu(l.xi3(6,9,l.xi3(7,12,e.hO,"1.2-2"),a.ofs.aOFI)),l.xp6(3),l.Q6J("ngIf",o.dt[0]>1&&o.fos[i+1]),l.xp6(1),l.Q6J("ngIf",3===o.dt[0]&&o.fos[i+2])}}function ct(t,e){if(1&t&&l.YNc(0,at,10,21,"div",49),2&t){const t=e.index,i=l.oxw().$implicit;l.Q6J("ngIf",t%i.dt[0]==0)}}function lt(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l.TgZ(2,"div",47),l.TgZ(3,"div",48),l._uU(4),l.qZA(),l.qZA(),l.YNc(5,ct,1,1,"ng-template",17),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(4),l.Oqu(t.btgN),l.xp6(1),l.Q6J("ngForOf",t.fos)}}function ut(t,e){if(1&t){const t=l.EpF();l.YNc(0,X,10,1,"div",18),l.YNc(1,K,7,6,"div",18),l.TgZ(2,"div",19),l._UZ(3,"div",20),l.TgZ(4,"div",21),l._uU(5),l.qZA(),l.TgZ(6,"div",22),l.TgZ(7,"a",23),l._uU(8),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"a",23),l._uU(11),l.qZA(),l.qZA(),l._UZ(12,"div",24),l._UZ(13,"div",25),l._UZ(14,"div",26),l.YNc(15,rt,2,1,"div",27),l.TgZ(16,"div",28),l.TgZ(17,"a",29),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(3).openStatistic(e)}),l.TgZ(18,"i",30),l._uU(19,"equalizer"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",31),l.TgZ(21,"a",32),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return e.active=!e.active}),l._uU(22),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",33),l.TgZ(24,"div",34),l.TgZ(25,"h6",35),l._uU(26),l.TgZ(27,"b"),l._uU(28,"VS"),l.qZA(),l._uU(29),l._UZ(30,"br"),l.TgZ(31,"span",36),l._uU(32),l.qZA(),l.qZA(),l.TgZ(33,"a",37),l.NdJ("click",function(){return l.CHM(t).$implicit.active=!1}),l.TgZ(34,"i",30),l._uU(35,"close"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(36,"table"),l.TgZ(37,"tbody"),l.YNc(38,lt,6,2,"tr",38),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index;l.Q6J("ngIf",0===i),l.xp6(1),l.Q6J("ngIf",0===i),l.xp6(4),l.Oqu(t.mCod),l.xp6(3),l.Oqu(t.hcN),l.xp6(3),l.Oqu(t.acN),l.xp6(4),l.Q6J("ngForOf",t.btgs2),l.xp6(7),l.hij("+",t.fDS,""),l.xp6(1),l.Q6J("ngClass",l.VKq(12,z,t.active)),l.xp6(3),l.hij(" ",t.hcN," "),l.xp6(3),l.hij(" ",t.acN," "),l.xp6(3),l.Oqu(t.mCod),l.xp6(6),l.Q6J("ngForOf",t.btgs)}}function ft(t,e){if(1&t&&(l.TgZ(0,"div",15),l.TgZ(1,"div",1),l._UZ(2,"i"),l.TgZ(3,"span",2),l._uU(4),l.ALo(5,"translate"),l.qZA(),l._UZ(6,"i",3),l.qZA(),l.TgZ(7,"div",8),l.TgZ(8,"div",16),l.YNc(9,ut,39,14,"ng-template",17),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(2),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.lnq("",t.seasonInfo.season_name," - ",l.lcZ(5,7,"TEXTS.MATCHDAY")," ",t.seasonInfo.match_day,""),l.xp6(5),l.Q6J("ngForOf",t.fixtures)}}function pt(t,e){if(1&t&&(l.ynx(0),l.YNc(1,ft,10,9,"div",14),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.fixtures)}}function dt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",19),l.TgZ(1,"div",22),l.TgZ(2,"a",23),l._uU(3),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"a",23),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"div",31),l.TgZ(8,"span",55),l._uU(9),l.qZA(),l.TgZ(10,"a",29),l.NdJ("click",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).openStatistic(i,e)}),l.TgZ(11,"i",30),l._uU(12,"equalizer"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(3),l.Oqu(t.hcN),l.xp6(3),l.Oqu(t.acN),l.xp6(3),l.Oqu(t.cSc)}}function gt(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",15),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.ALo(7,"translate"),l.qZA(),l._UZ(8,"i",3),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"div",16),l.TgZ(11,"div",39),l.TgZ(12,"div",22),l._uU(13),l.ALo(14,"translate"),l.qZA(),l.qZA(),l.YNc(15,dt,13,3,"ng-template",17),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy("",l.lcZ(6,9,"TEXTS.VFEC_SEASON")," ",t.seasonInfo.season_name,"- ",l.lcZ(7,11,"TEXTS.MATCHDAY")," ",t.seasonInfo.match_day,""),l.xp6(8),l.Oqu(l.lcZ(14,13,"TEXTS.MATCH")),l.xp6(2),l.Q6J("ngForOf",t.oldFixtures)}}n.N.map.virtualFootball;class mt{constructor(t,e,i,s,r,o,n,l){this.virtualService=t,this.rootService=e,this.traderService=i,this.applicationService=s,this.translateFactory=r,this.translate=o,this.ofs=n,this.route=l,this.inProgress=!0,this.oldMatches=null,this.seasonInfo=null,this.sport={cs:[{sns:[{fs:null}]}]},this.fixtureShow={oldF:!1,newF:!0},this.errors={show:!1,message:""},this.destroyed$=new c.xQ;const u=s.settingList.find(t=>"iframe-virtual-football"===t.parameter),f=new RegExp(/{lang}/,"g");this.iframeUrl=u.value.replace(f,r.currentLang.code),this.route.url.pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(t[1].path,"d"),this.beforeAction(this.virtualSportObj.sortName)})}ngOnInit(){}beforeAction(t){window.setVflMatchday=e=>{const i={sportTypeId:43,seasonNumber:Number(e.season_name.split(" ").pop()),matchDay:Number(e.match_day),urlParam:t};this.seasonInfo=e,this.pullFixtures(i)}}pullFixtures(t){const e=new o.qPv(t);this.inProgress=!0,this.virtualService.getVirtualSomeFixtures(e).then(t=>{try{void 0!==t.cScs?(this.oldFixtures=t.cScs,this.fixtureShow={oldF:!0,newF:!1}):(this.fixtures=t,this.fixtureShow={oldF:!1,newF:!0},this.sport.cs[0].sns[0].fs=this.fixtures),this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}}),this.oldFixtures=null,this.fixtures=null}this.inProgress=!1},t=>{try{this.translate.get(`MESSAGES.${t.responseCodes[0].responseKey}`).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}catch(t){this.inProgress=!1,this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1,this.oldFixtures=null,this.fixtures=null})}get activeBetButtons(){return this.rootService.activeBetButtons}openStatistic(t){null!==document.getElementsByName("vfl_iframe")[0]&&window.document.vfl_iframe.openVfecStats(t.hcBId,t.acBId)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function ht(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",8),l.TgZ(2,"div",9),l._UZ(3,"iframe",10),l.ALo(4,"safeUrl"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Q6J("src",l.lcZ(4,1,t.iframeUrl),l.uOi)}}function xt(t,e){1&t&&(l.TgZ(0,"div",11),l._UZ(1,"div",12),l.qZA())}function vt(t,e){if(1&t&&l._UZ(0,"message-box",13),2&t){const t=l.oxw();l.Q6J("content",t.errors.message)}}function Zt(t,e){if(1&t&&(l.ynx(0),l._uU(1),l.BQk()),2&t){const t=l.oxw(2);l.xp6(1),l.Oqu(t.seasonInfo.Race_number)}}mt.\u0275fac=function(t){return new(t||mt)(l.Y36(o.xZw),l.Y36(o.U$c),l.Y36(o._W6),l.Y36(o.Wd0),l.Y36(o.chr),l.Y36(u.sK),l.Y36(o.Wo4),l.Y36(f.gz))},mt.\u0275cmp=l.Xpm({type:mt,selectors:[["app-virtual-football"]],decls:14,vars:11,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["contentCode","virtual-football"],[1,"modul-content"],[1,"virtual-view"],["name","vfl_iframe","width","766px","height","617px",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["class","modul-accordion sport-type-detail","accordion","",4,"ngIf"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"fixture-container"],["ngFor","",3,"ngForOf"],["class","fixture-header flex-container",4,"ngIf"],[1,"fixture-body","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],["href","javascript:;"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[1,"element","statistic"],["href","javascript:;",1,"statistic","right",3,"click"],[1,"material-icons"],[1,"element","other"],["href","javascript:;",1,"btn","other-btn","waves-effect","waves-light","modal-trigger",3,"click"],[1,"caption-pg",3,"ngClass"],[1,"caption-pg-header","flex-container"],[1,"flex-item","title"],[1,"match-code"],["href","javascript:;",1,"close-caption",3,"click"],[4,"ngFor","ngForOf"],[1,"fixture-header","flex-container"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"element","flex-item","flex-container","bet-type"],[3,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],[1,"bet-btn-text"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],[1,"flex-container"],[1,"flex-item","center-align"],["class","flex-container bet-type-btn-group",4,"ngIf"],[1,"flex-container","bet-type-btn-group"],["href","javascript:;","bet-button","",1,"flex-container","btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map","title"],[1,"flex-item","bet-btn-text"],[1,"bet-btn-odd"],["href","javascript:;","class","flex-container btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map","title",4,"ngIf"],["href","javascript:;",1,"left","btn","other-btn","waves-effect","waves-light"]],template:function(t,e){1&t&&(l._UZ(0,"virtual-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.qZA(),l._UZ(7,"i",3),l.qZA(),l.YNc(8,G,5,3,"ng-container",4),l.qZA(),l.YNc(9,H,2,0,"div",5),l.YNc(10,R,1,1,"message-box",6),l.YNc(11,pt,2,1,"ng-container",4),l.YNc(12,gt,16,15,"ng-container",4),l._UZ(13,"app-static-inner-content",7)),2&t&&(l.xp6(3),l.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),l.xp6(2),l.hij(" ",l.lcZ(6,9,"TEXTS.VIRTUAL_FOOTBALL")," "),l.xp6(3),l.Q6J("ngIf",e.iframeUrl),l.xp6(1),l.Q6J("ngIf",e.inProgress),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.errors.show),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.fixtures&&e.fixtures.length&&e.fixtureShow.newF&&!e.fixtureShow.oldF),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.oldFixtures&&e.oldFixtures.length&&!e.fixtureShow.newF&&e.fixtureShow.oldF))},directives:[g,o.wRe,r.O5,m.n,h.W,r.sg,r.mk,o.q75],pipes:[u.X$,x.Q,o.zz4,r.JJ],encapsulation:2});const bt=function(t){return{active:t}};function Tt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"li",22),l.TgZ(1,"a",23),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).setBtgM(e)}),l._uU(2),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngClass",l.VKq(2,bt,i.activeBtgmOrd===t.btgMOrd)),l.xp6(1),l.Oqu(t.name)}}function At(t,e){if(1&t&&(l.TgZ(0,"div",34),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Oqu(t.btgNO)}}function qt(t,e){if(1&t&&l._UZ(0,"div",38),2&t){const t=l.oxw().$implicit;l.Q6J("id","sr:competitor:"+t.xid)}}const wt=function(t,e){return{cI:0,sI:0,fI:0,bI:t,oI:e,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function St(t,e){if(1&t&&(l.TgZ(0,"a",41),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.qZA()),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw().$implicit,r=l.oxw(4);l.Q6J("ngClass",l.VKq(11,bt,r.activeBetButtons[e.foId+"-1"]))("sport-type",r.sport)("bet-map",l.WLB(13,wt,s.bI,i)),l.uIk("foId",e.foId),l.xp6(1),l.hij(" ",l.xi3(2,5,l.xi3(3,8,e.hO,"1.2-2"),r.ofs.aOFI),"")}}function It(t,e){if(1&t&&l.YNc(0,St,4,16,"a",40),2&t){const t=e.$implicit,i=l.oxw(2).$implicit;l.Q6J("ngIf",t.mCId[0]===i.fCId)}}function _t(t,e){if(1&t&&(l.TgZ(0,"div",39),l.YNc(1,It,1,1,"ng-template",21),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.fos)}}function Ot(t,e){if(1&t&&(l.TgZ(0,"div",35),l._UZ(1,"div",26),l._UZ(2,"div",27),l.TgZ(3,"div",28),l.TgZ(4,"span",36),l.YNc(5,qt,1,1,"ng-template",20),l.TgZ(6,"span"),l._uU(7),l.qZA(),l.TgZ(8,"span"),l._uU(9),l.qZA(),l.qZA(),l.qZA(),l._UZ(10,"div",29),l._UZ(11,"div",30),l._UZ(12,"div",31),l.YNc(13,_t,2,1,"div",37),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(3);l.xp6(5),l.Q6J("ngIf",i.isUof),l.xp6(1),l.Gre("box-",t.sB," box-main"),l.xp6(1),l.Oqu(t.sB),l.xp6(2),l.Oqu(t.fCN),l.xp6(4),l.Q6J("ngForOf",i.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups)}}function Ut(t,e){if(1&t&&(l.TgZ(0,"div",24),l.TgZ(1,"div",25),l._UZ(2,"div",26),l._UZ(3,"div",27),l._UZ(4,"div",28),l._UZ(5,"div",29),l._UZ(6,"div",30),l._UZ(7,"div",31),l.YNc(8,At,2,1,"div",32),l.qZA(),l.YNc(9,Ot,14,7,"div",33),l.qZA()),2&t){const t=l.oxw(2);l.xp6(8),l.Q6J("ngForOf",t.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups),l.xp6(1),l.Q6J("ngForOf",t.fixtures[0].fCs)}}const yt=function(t,e){return{s12:t,s6:e}};function Nt(t,e){if(1&t&&(l.TgZ(0,"div",45),l.TgZ(1,"div",46),l._uU(2),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(4);l.Q6J("ngClass",l.WLB(2,yt,i.triCastInd.length<2,i.triCastInd.length>1)),l.xp6(2),l.Oqu(t.btgN)}}function Ft(t,e){if(1&t&&l._UZ(0,"div",50),2&t){const t=l.oxw().$implicit;l.Tol("sr:competitor:"+t.xid)}}function Ct(t,e){if(1&t&&l.YNc(0,Ft,1,2,"ng-template",20),2&t){const t=e.$implicit,i=l.oxw(2).$implicit;l.Q6J("ngIf",t.fCId===i)}}function Et(t,e){if(1&t&&l.YNc(0,Ct,1,1,"ng-template",21),2&t){const t=l.oxw(8);l.Q6J("ngForOf",t.fixtures[0].fCs)}}function Qt(t,e){if(1&t&&(l.TgZ(0,"span",36),l.YNc(1,Et,1,1,"ng-template",20),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.TgZ(4,"span"),l._uU(5),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(7);l.xp6(1),l.Q6J("ngIf",i.isUof),l.xp6(1),l.Gre("box-",i.fixtures[0].numbers[t].sB," box-main"),l.xp6(1),l.Oqu(i.fixtures[0].numbers[t].sB),l.xp6(2),l.Oqu(i.fixtures[0].numbers[t].fCN)}}function Jt(t,e){if(1&t&&l.YNc(0,Qt,6,6,"span",49),2&t){const t=l.oxw().$implicit;l.Q6J("ngForOf",t.mCId)}}function Bt(t,e){1&t&&(l.TgZ(0,"span",36),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&t&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"TEXTS.OTHER")," "))}function Lt(t,e){if(1&t&&(l.TgZ(0,"div",35),l.TgZ(1,"div",28),l.YNc(2,Jt,1,1,"ng-template",20),l.YNc(3,Bt,3,3,"span",47),l.qZA(),l.TgZ(4,"div",48),l.TgZ(5,"a",41),l._uU(6),l.ALo(7,"oF"),l.ALo(8,"number"),l.qZA(),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=e.index,s=l.oxw().$implicit,r=l.oxw(4);l.xp6(2),l.Q6J("ngIf",t.mCId),l.xp6(1),l.Q6J("ngIf",!t.mCId),l.xp6(2),l.Q6J("ngClass",l.VKq(13,bt,r.activeBetButtons[t.foId+"-1"]))("sport-type",r.sport)("bet-map",l.WLB(15,wt,s.bI,i)),l.uIk("foId",t.foId),l.xp6(1),l.Oqu(l.xi3(7,7,l.xi3(8,10,t.hO,"1.2-2"),r.ofs.aOFI))}}function Yt(t,e){if(1&t&&(l.TgZ(0,"div",45),l.YNc(1,Lt,9,18,"div",33),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(4);l.Q6J("ngClass",l.WLB(2,yt,i.triCastInd.length<2,i.triCastInd.length>1)),l.xp6(1),l.Q6J("ngForOf",t.fos)}}function $t(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"button",51),l.NdJ("click",function(){l.CHM(t);return l.oxw(4).showMoreThreeFos()}),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.BQk()}2&t&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"TEXTS.MORE_BETS")," "))}function Mt(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",42),l.TgZ(2,"div",24),l.TgZ(3,"div",25),l.YNc(4,Nt,3,5,"div",43),l.qZA(),l.YNc(5,Yt,2,5,"div",43),l.qZA(),l.TgZ(6,"div",44),l.YNc(7,$t,4,3,"ng-container",4),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit,e=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",t.betTypeGroups),l.xp6(1),l.Q6J("ngForOf",t.betTypeGroups),l.xp6(2),l.Q6J("ngIf",e.fosIsSlice)}}function Pt(t,e){if(1&t&&l.YNc(0,Mt,8,3,"ng-container",4),2&t){const t=e.$implicit,i=l.oxw(2);l.Q6J("ngIf",i.activeBtgmOrd!==i.fixtures[0].fixtureBetTypeGroups[0].btgMOrd&&i.activeBtgmOrd===t.btgMOrd)}}function kt(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",14),l.TgZ(2,"div",15),l.TgZ(3,"div",16),l.TgZ(4,"div",17),l._UZ(5,"i"),l.TgZ(6,"span",2),l._uU(7),l.ALo(8,"translate"),l.ALo(9,"translate"),l.ALo(10,"translate"),l.YNc(11,Zt,2,1,"ng-container",4),l.qZA(),l.qZA(),l._UZ(12,"i",3),l.qZA(),l.qZA(),l.TgZ(13,"div",8),l.TgZ(14,"ul",18),l.YNc(15,Tt,3,4,"li",19),l.qZA(),l.YNc(16,Ut,10,2,"ng-template",20),l.YNc(17,Pt,1,1,"ng-template",21),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(5),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy(" ",l.lcZ(8,11,"TEXTS.VIRTUAL_DOGS")," - ",l.lcZ(9,13,"TEXTS.DAY")," ",t.fixtures[0].seaN," - ",l.lcZ(10,15,"TEXTS.RACE")," "),l.xp6(4),l.Q6J("ngIf",t.seasonInfo),l.xp6(4),l.Q6J("ngForOf",t.fixtures[0].fixtureBetTypeGroups),l.xp6(1),l.Q6J("ngIf",t.activeBtgmOrd===t.fixtures[0].fixtureBetTypeGroups[0].btgMOrd),l.xp6(1),l.Q6J("ngForOf",t.fixtures[0].fixtureBetTypeGroups)}}n.N.map.virtualDogs;class Vt{constructor(t,e,i,s,r,o,n,l){this.virtualService=t,this.rootService=e,this.traderService=i,this.applicationService=s,this.translateFactory=r,this.translate=o,this.ofs=n,this.route=l,this.inProgress=!0,this.model={sportTypeId:84,seasonNumber:null,matchDay:null,urlParam:"vdr"},this.isUof=this.traderService.trader.uofEnabled,this.sliceLimit=20,this.mainTriCasts={},this.triCastInd={},this.errors={show:!1,message:""},this.iframeUrl=null,this.sport={cs:[{sns:[{fs:null}]}]},this.xids=[],this.svgTypes=["competitor","form","rating","lengthbehindwinner"],this.fixtures=null,this.destroyed$=new c.xQ;const u=s.settingList.find(t=>"iframe-virtual-dog"===t.parameter),f=new RegExp(/{lang}/,"g");this.iframeUrl=u.value.replace(f,r.currentLang.code),this.route.url.pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(t[1].path,"d"),this.traderService.trader.uofEnabled?this.beforeActionForUOF(this.virtualSportObj.sortName):this.beforeActionForLegacy(this.virtualSportObj.sortName)})}ngOnInit(){}beforeActionForLegacy(t){window.setVdrRace=e=>{this.inProgress=!0,this.model.seasonNumber=Number(e.Raceday_id),this.model.matchDay=Number(e.Race_number),this.model.urlParam=t,this.seasonInfo=e,this.pullVirtualDogsData()}}beforeActionForUOF(t){const e={urlParam:t,groupMatches:null};window.addEventListener("message",t=>{if(t){const i=document.getElementsByName("vdr_iframe")[0];let s=t.data;"string"==typeof s&&(s=JSON.parse(s));const r={type:s.messageType,data:s.messageData};switch(r.type){case"setHeight":i&&(document.getElementById("vdr_iframe").style.height=r.data.height+"px");break;case"svg:response":if(1===this.activeBtgmOrd){document.getElementById(r.data.competitor).innerHTML=r.data.svg}else{const t=document.getElementsByClassName(r.data.competitor);for(let e=0;e<=t.length;e++)t[e].innerHTML=r.data.svg}break;case"switchEvents":this.xids=[],this.raceName=r.data.unified_event_ids[0],e.groupMatches=[r.data.unified_event_ids[0].split(":")[2]],this.inProgress=!0;const t={requestBody:{urlParam:"vdr",groupMatches:e.groupMatches}};this.virtualService.getDogFixtures(t).then(t=>{try{this.fixtures=t;const e=Object.assign(this.fixtures);let i=0;for(const t in e)for(const s in e[t].btgs)24===e[t].btgs[s].btgMId&&(this.mainTriCasts[s]=e[t].btgs[s].fos,this.triCastInd[s]=s,i++);this.triCastInd.length=i,this.activeBtgmOrd=this.fixtures[0].fixtureBetTypeGroups[0].btgMOrd;const s=void 0===window.document.vdr_iframe?window.vdr_iframe:window.document.vdr_iframe;setTimeout(()=>{this.fixtures[0].fCs.forEach(t=>{this.xids.push(t.xid),this.pMForSvg(s,t.xid,r.data.unified_event_ids[0])})},750),this.sport.cs[0].sns[0].fs=this.fixtures,t[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1},t=>{try{this.translate.get(`MESSAGES.${t.responseCodes[0].responseKey}`).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1})}}})}pullVirtualDogsData(){this.inProgress=!0;const t=new o.qPv(this.model);this.virtualService.getDogFixtures(t).then(t=>{try{this.fixtures=t,this.activeBtgmOrd=this.fixtures[0].fixtureBetTypeGroups[0].btgMOrd,this.sport.cs[0].sns[0].fs=this.fixtures,t[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1},t=>{try{this.translate.get(`MESSAGES.${t.responseCodes[0].responseKey}`).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1})}get activeBetButtons(){return this.rootService.activeBetButtons}openStatistic(){null!==document.getElementsByName("vdr_iframe")[0]&&window.document.vdr_iframe.openVdrStats(this.model.seasonNumber,this.model.matchDay)}setBtgM(t){if(t.btgMOrd===this.activeBtgmOrd)return!1;document.getElementsByName("vdr_iframe")[0];this.activeBtgmOrd=t.btgMOrd,3===this.activeBtgmOrd&&this.traderService.trader.uofEnabled&&this.sliceTricastFos(this.fixtures[0].btgs);const e=void 0===window.document.vdr_iframe?window.vdr_iframe:window.document.vdr_iframe;setTimeout(()=>{this.xids.forEach(t=>{this.pMForSvg(e,t,this.raceName)})},500)}pMForSvg(t,e,i){t.postMessage(JSON.stringify({messageType:"svg:request",messageData:{type:this.svgTypes[0],race:i,competitor:`sr:competitor:${e}`,sport:"vdk"}}),"*")}sliceTricastFos(t){this.fosIsSlice=!0;const e=t.filter(t=>24===t.btgMId).map(t=>t.fos.slice(0,this.sliceLimit));let i=0;for(const s in this.triCastInd)this.fixtures[0].btgs[s].fos=e[i],i++}showMoreThreeFos(){this.fosIsSlice=!1;for(const t in this.triCastInd)this.fixtures[0].btgs[t].fos=this.mainTriCasts[t]}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function jt(t,e){1&t&&(l.TgZ(0,"div",11),l._UZ(1,"div",12),l.qZA())}function Gt(t,e){if(1&t&&l._UZ(0,"message-box",13),2&t){const t=l.oxw();l.Q6J("content",t.errors.message)}}function Ht(t,e){if(1&t&&(l.ynx(0),l._uU(1),l.BQk()),2&t){const t=l.oxw(2);l.xp6(1),l.Oqu(t.seasonInfo.Race_number)}}Vt.\u0275fac=function(t){return new(t||Vt)(l.Y36(o.xZw),l.Y36(o.U$c),l.Y36(o._W6),l.Y36(o.Wd0),l.Y36(o.chr),l.Y36(u.sK),l.Y36(o.Wo4),l.Y36(f.gz))},Vt.\u0275cmp=l.Xpm({type:Vt,selectors:[["app-virtual-dogs"]],decls:13,vars:10,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["contentCode","virtual-dogs"],[1,"modul-content"],[1,"virtual-view"],["name","vdr_iframe","id","vdr_iframe","width","767","height","512",1,"iframeDefaultSize",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"modul-header","virtual-dog-hourse-header"],[1,"flex-container"],[1,"flex-item"],[1,"tabs","tabs-fixed-width","virtual-dog-hourse-tabs"],["class","tab",4,"ngFor","ngForOf"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"tab"],["href","javascript:;",3,"ngClass","click"],[1,"fixture-container"],[1,"fixture-header","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],["class","fixture-body flex-container",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"fixture-body","flex-container"],[1,"prediction-name"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px",3,"id"],[1,"element","flex-item","flex-container","bet-type"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],[1,"row"],["class","col",3,"ngClass",4,"ngFor","ngForOf"],[1,"col","s12"],[1,"col",3,"ngClass"],[1,"element","flex-item","bet-type",2,"display","block"],["class","prediction-name",4,"ngIf"],[1,"element","flex-item","flex-container","bet-type","prediction-btn",2,"display","flex"],["class","prediction-name",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px"],[1,"btn","w100","secondary-color",3,"click"]],template:function(t,e){1&t&&(l._UZ(0,"virtual-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.qZA(),l._UZ(7,"i",3),l.qZA(),l.YNc(8,ht,5,3,"ng-container",4),l.qZA(),l.YNc(9,xt,2,0,"div",5),l.YNc(10,vt,1,1,"message-box",6),l.YNc(11,kt,18,17,"ng-container",4),l._UZ(12,"app-static-inner-content",7)),2&t&&(l.xp6(3),l.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),l.xp6(2),l.hij(" ",l.lcZ(6,8,"TEXTS.VIRTUAL_DOGS")," "),l.xp6(3),l.Q6J("ngIf",e.iframeUrl),l.xp6(1),l.Q6J("ngIf",e.inProgress),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.errors.show),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.fixtures&&!e.errors.show))},directives:[g,o.wRe,r.O5,m.n,h.W,r.sg,r.mk,o.q75],pipes:[u.X$,x.Q,o.zz4,r.JJ],encapsulation:2});const Rt=function(t){return{active:t}};function Dt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"li",21),l.TgZ(1,"a",22),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).setBtgM(e)}),l._uU(2),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngClass",l.VKq(2,Rt,i.activeBtgmOrd===t.btgMOrd)),l.xp6(1),l.Oqu(t.name)}}function Xt(t,e){if(1&t&&(l.TgZ(0,"div",33),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Oqu(t.btgNO)}}function Kt(t,e){if(1&t&&l._UZ(0,"div",38),2&t){const t=l.oxw().$implicit;l.Q6J("id","sr:competitor:"+t.xid)}}function zt(t,e){if(1&t&&l._UZ(0,"img",39),2&t){const t=l.oxw().$implicit;l.Q6J("src","/vhc/jersey/903/"+t.aId+".png",l.LSH)}}const Wt=function(t,e){return{cI:0,sI:0,fI:0,bI:t,oI:e,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function te(t,e){if(1&t&&(l.TgZ(0,"a",42),l._uU(1),l.ALo(2,"oF"),l.ALo(3,"number"),l.qZA()),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw().$implicit,r=l.oxw(4);l.Q6J("ngClass",l.VKq(11,Rt,r.activeBetButtons[e.foId+"-1"]))("sport-type",r.sport)("bet-map",l.WLB(13,Wt,s.bI,i)),l.uIk("foId",e.foId),l.xp6(1),l.Oqu(l.xi3(2,5,l.xi3(3,8,e.hO,"1.2-2"),r.ofs.aOFI))}}function ee(t,e){if(1&t&&l.YNc(0,te,4,16,"a",41),2&t){const t=e.$implicit,i=l.oxw(2).$implicit;l.Q6J("ngIf",t.mCId&&t.mCId[0]===i.fCId)}}function ie(t,e){if(1&t&&(l.TgZ(0,"div",40),l.YNc(1,ee,1,1,"ng-template",20),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.fos)}}function se(t,e){if(1&t&&(l.TgZ(0,"div",34),l._UZ(1,"div",25),l._UZ(2,"div",26),l.TgZ(3,"div",27),l.TgZ(4,"span",35),l.YNc(5,Kt,1,1,"ng-template",36),l.YNc(6,zt,1,1,"ng-template",36),l.TgZ(7,"span"),l._uU(8),l.qZA(),l.TgZ(9,"span"),l._uU(10),l.qZA(),l.qZA(),l.qZA(),l._UZ(11,"div",28),l._UZ(12,"div",29),l._UZ(13,"div",30),l.YNc(14,ie,2,1,"div",37),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(3);l.xp6(5),l.Q6J("ngIf",i.isUof),l.xp6(1),l.Q6J("ngIf",!i.isUof),l.xp6(1),l.Gre("box-",t.sB," box-main"),l.xp6(1),l.Oqu(t.sB),l.xp6(2),l.Oqu(t.fCN),l.xp6(4),l.Q6J("ngForOf",i.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups)}}function re(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",23),l.TgZ(2,"div",24),l._UZ(3,"div",25),l._UZ(4,"div",26),l._UZ(5,"div",27),l._UZ(6,"div",28),l._UZ(7,"div",29),l._UZ(8,"div",30),l.YNc(9,Xt,2,1,"div",31),l.qZA(),l.YNc(10,se,15,8,"div",32),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(9),l.Q6J("ngForOf",t.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups),l.xp6(1),l.Q6J("ngForOf",t.fixtures[0].fCs)}}const oe=function(t,e){return{s12:t,s6:e}};function ne(t,e){if(1&t&&(l.TgZ(0,"div",46),l.TgZ(1,"div",47),l._uU(2),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(4);l.Q6J("ngClass",l.WLB(2,oe,i.triCastInd.length<2,i.triCastInd.length>1)),l.xp6(2),l.Oqu(t.btgN)}}function ae(t,e){if(1&t&&l._UZ(0,"img",39),2&t){const t=l.oxw().$implicit;l.Q6J("src","/vhcstaging/jersey/903/"+t.aId+".png",l.LSH)}}function ce(t,e){if(1&t&&l.YNc(0,ae,1,1,"ng-template",36),2&t){const t=e.$implicit,i=l.oxw(2).$implicit;l.Q6J("ngIf",t.fCId===i)}}function le(t,e){if(1&t&&l.YNc(0,ce,1,1,"ng-template",20),2&t){const t=l.oxw(8);l.Q6J("ngForOf",t.fixtures[0].fCs)}}function ue(t,e){if(1&t&&l._UZ(0,"div",51),2&t){const t=l.oxw().$implicit;l.Tol("sr:competitor:"+t.xid)}}function fe(t,e){if(1&t&&l.YNc(0,ue,1,2,"ng-template",36),2&t){const t=e.$implicit,i=l.oxw(2).$implicit;l.Q6J("ngIf",t.fCId===i)}}function pe(t,e){if(1&t&&l.YNc(0,fe,1,1,"ng-template",20),2&t){const t=l.oxw(8);l.Q6J("ngForOf",t.fixtures[0].fCs)}}function de(t,e){if(1&t&&(l.TgZ(0,"span",35),l.YNc(1,le,1,1,"ng-template",36),l.YNc(2,pe,1,1,"ng-template",36),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.TgZ(5,"span"),l._uU(6),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(7);l.xp6(1),l.Q6J("ngIf",!i.isUof),l.xp6(1),l.Q6J("ngIf",i.isUof),l.xp6(1),l.Gre("box-",i.fixtures[0].numbers[t].sB," box-main"),l.xp6(1),l.Oqu(i.fixtures[0].numbers[t].sB),l.xp6(2),l.Oqu(i.fixtures[0].numbers[t].fCN)}}function ge(t,e){if(1&t&&l.YNc(0,de,7,7,"span",50),2&t){const t=l.oxw().$implicit;l.Q6J("ngForOf",t.mCId)}}function me(t,e){1&t&&(l.TgZ(0,"span",52),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&t&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"TEXTS.OTHER")," "))}function he(t,e){if(1&t&&(l.TgZ(0,"div",34),l.TgZ(1,"div",27),l.YNc(2,ge,1,1,"ng-template",36),l.YNc(3,me,3,3,"span",48),l.qZA(),l.TgZ(4,"div",49),l.TgZ(5,"a",42),l._uU(6),l.ALo(7,"oF"),l.ALo(8,"number"),l.qZA(),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=e.index,s=l.oxw().$implicit,r=l.oxw(4);l.xp6(2),l.Q6J("ngIf",t.mCId),l.xp6(1),l.Q6J("ngIf",!t.mCId),l.xp6(2),l.Q6J("ngClass",l.VKq(13,Rt,r.activeBetButtons[t.foId+"-1"]))("sport-type",r.sport)("bet-map",l.WLB(15,Wt,s.bI,i)),l.uIk("foId",t.foId),l.xp6(1),l.Oqu(l.xi3(7,7,l.xi3(8,10,t.hO,"1.2-2"),r.ofs.aOFI))}}function xe(t,e){if(1&t&&(l.TgZ(0,"div",46),l.YNc(1,he,9,18,"div",32),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(4);l.Q6J("ngClass",l.WLB(2,oe,i.triCastInd.length<2,i.triCastInd.length>1)),l.xp6(1),l.Q6J("ngForOf",t.fos)}}function ve(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"button",53),l.NdJ("click",function(){l.CHM(t);return l.oxw(4).showMoreThreeFos()}),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.BQk()}2&t&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"TEXTS.MORE_BETS")," "))}function Ze(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",43),l.TgZ(2,"div",23),l.TgZ(3,"div",24),l.YNc(4,ne,3,5,"div",44),l.qZA(),l.YNc(5,xe,2,5,"div",44),l.qZA(),l.TgZ(6,"div",45),l.YNc(7,ve,4,3,"ng-container",9),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit,e=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",t.betTypeGroups),l.xp6(1),l.Q6J("ngForOf",t.betTypeGroups),l.xp6(2),l.Q6J("ngIf",e.fosIsSlice)}}function be(t,e){if(1&t&&l.YNc(0,Ze,8,3,"ng-container",9),2&t){const t=e.$implicit,i=l.oxw(2);l.Q6J("ngIf",t.btgMOrd!==i.fixtures[0].fixtureBetTypeGroups[0].btgMOrd&&i.activeBtgmOrd===t.btgMOrd)}}function Te(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",14),l.TgZ(2,"div",15),l.TgZ(3,"div",16),l.TgZ(4,"div",17),l._UZ(5,"i"),l.TgZ(6,"span",2),l._uU(7),l.ALo(8,"translate"),l.ALo(9,"translate"),l.ALo(10,"translate"),l.YNc(11,Ht,2,1,"ng-container",9),l.qZA(),l.qZA(),l._UZ(12,"i",3),l.qZA(),l.qZA(),l.TgZ(13,"div",4),l.TgZ(14,"ul",18),l.YNc(15,Dt,3,4,"li",19),l.qZA(),l.YNc(16,re,11,2,"ng-container",9),l.YNc(17,be,1,1,"ng-template",20),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(5),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy(" ",l.lcZ(8,11,"TEXTS.VIRTUAL_HORSES")," - ",l.lcZ(9,13,"TEXTS.DAY")," ",t.fixtures[0].seaN," - ",l.lcZ(10,15,"TEXTS.RACE")," "),l.xp6(4),l.Q6J("ngIf",t.seasonInfo),l.xp6(4),l.Q6J("ngForOf",t.fixtures[0].fixtureBetTypeGroups),l.xp6(1),l.Q6J("ngIf",t.activeBtgmOrd===t.fixtures[0].fixtureBetTypeGroups[0].btgMOrd),l.xp6(1),l.Q6J("ngForOf",t.fixtures[0].fixtureBetTypeGroups)}}n.N.map.virtualHorses;class Ae{constructor(t,e,i,s,r,o,n,l){this.virtualService=t,this.rootService=e,this.traderService=i,this.route=s,this.applicationService=r,this.translateFactory=o,this.translate=n,this.ofs=l,this.inProgress=!0,this._fixtures=null,this.sliceLimit=20,this.iframeUrl=null,this.mainTriCasts={},this.triCastInd={},this.sport={cs:[{sns:[{fs:null}]}]},this.isUof=this.traderService.trader.uofEnabled,this.xids=[],this.svgTypes=["competitor","form","rating","lengthbehindwinner"],this.errors={show:!1,message:""},this.destroyed$=new c.xQ;const u=r.settingList.find(t=>"iframe-virtual-horse"===t.parameter),f=new RegExp(/{lang}/,"g");this.iframeUrl=u.value.replace(f,o.currentLang.code),this.route.url.pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(t[1].path,"d"),this.traderService.trader.uofEnabled?this.beforeActionForUOF(this.virtualSportObj.sortName):this.beforeActionForLegacy(this.virtualSportObj.sortName)})}get fixtures(){return this._fixtures}get activeBetButtons(){return this.rootService.activeBetButtons}ngOnInit(){}beforeActionForUOF(t){const e={urlParam:t,groupMatches:null};window.addEventListener("message",t=>{if(t){let i=t.data;const s=document.getElementsByName("vhr_iframe")[0];"string"==typeof i&&(i=JSON.parse(i));const r={type:i.messageType,data:i.messageData};switch(r.type){case"setHeight":s&&(document.getElementById("vhr_iframe").style.height=r.data.height+"px");break;case"svg:response":if(1===this.activeBtgmOrd){document.getElementById(r.data.competitor).innerHTML=r.data.svg}else{const t=document.getElementsByClassName(r.data.competitor);for(let e=0;e<=t.length;e++)t[e].innerHTML=r.data.svg}break;case"switchEvents":this.xids=[],this.raceName=r.data.unified_event_ids[0],e.groupMatches=[r.data.unified_event_ids[0].split(":")[2]],this.inProgress=!0;const t={requestBody:{urlParam:this.virtualSportObj.sortName,groupMatches:e.groupMatches}};this.virtualService.getHorseFixtures(t).then(t=>{try{this._fixtures=t;const e=Object.assign(this._fixtures);let i=0;for(const t in e)for(const s in e[t].btgs)24===e[t].btgs[s].btgMId&&(this.mainTriCasts[s]=e[t].btgs[s].fos,this.triCastInd[s]=s,i++);this.triCastInd.length=i,setTimeout(()=>{this._fixtures[0].fCs.forEach(t=>{this.xids.push(t.xid),this.pMForSvg(window.document.vhr_iframe,t.xid,r.data.unified_event_ids[0])})},750),this.activeBtgmOrd=this._fixtures[0].fixtureBetTypeGroups[0].btgMOrd,this.sport.cs[0].sns[0].fs=this._fixtures,t[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1},t=>{try{this.translate.get(`MESSAGES.${t.responseCodes[0].responseKey}`).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1})}}})}beforeActionForLegacy(t){window.setVhcRace=e=>{this.model={requestBody:{sportTypeId:83,seasonNumber:Number(e.Raceday_id),matchDay:Number(e.Race_number),urlParam:t}},this.seasonInfo=e,this.pullvirtualHorsesData(this.model)}}pullvirtualHorsesData(t){this.inProgress=!0,this.virtualService.getHorseFixtures(t).then(t=>{try{this._fixtures=t,this.activeBtgmOrd=this._fixtures[0].fixtureBetTypeGroups[0].btgMOrd,this.sport.cs[0].sns[0].fs=this._fixtures,t[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1},t=>{try{this.translate.get(`MESSAGES.${t.responseCodes[0].responseKey}`).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1})}openStatistic(){document.getElementsByName("vhr_iframe")[0];null!==window.document.vhr_iframe&&window.document.vhr_iframe.openVhcStats(this.model.requestBody.seasonNumber,this.model.requestBody.matchDay)}setBtgM(t){if(t.btgMOrd===this.activeBtgmOrd)return!1;this.activeBtgmOrd=t.btgMOrd;document.getElementsByName("vhr_iframe")[0];3===this.activeBtgmOrd&&this.traderService.trader.uofEnabled&&this.sliceTricastFos(this._fixtures[0].btgs),setTimeout(()=>{this.xids.forEach(t=>{this.pMForSvg(window.document.vhr_iframe,t,this.raceName)})},500)}pMForSvg(t,e,i){t.postMessage(JSON.stringify({messageType:"svg:request",messageData:{type:this.svgTypes[0],race:i,competitor:`sr:competitor:${e}`,sport:"vhk"}}),"*")}sliceTricastFos(t){this.fosIsSlice=!0;const e=t.filter(t=>24===t.btgMId).map(t=>t.fos.slice(0,this.sliceLimit));let i=0;for(const s in this.triCastInd)this.fixtures[0].btgs[s].fos=e[i],i++}showMoreThreeFos(){this.fosIsSlice=!1;for(const t in this.triCastInd)this.fixtures[0].btgs[t].fos=this.mainTriCasts[t]}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}Ae.\u0275fac=function(t){return new(t||Ae)(l.Y36(o.xZw),l.Y36(o.U$c),l.Y36(o._W6),l.Y36(f.gz),l.Y36(o.Wd0),l.Y36(o.chr),l.Y36(u.sK),l.Y36(o.Wo4))},Ae.\u0275cmp=l.Xpm({type:Ae,selectors:[["app-virtual-horses"]],decls:16,vars:12,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[1,"modul-content"],[1,"virtual-view"],["name","vhr_iframe","id","vhr_iframe","width","767","height","512",3,"src"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],[4,"ngIf"],["contentCode","virtual-horses"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"modul-header","virtual-dog-hourse-header"],[1,"flex-container"],[1,"flex-item"],[1,"tabs","tabs-fixed-width","virtual-dog-hourse-tabs"],["class","tab",4,"ngFor","ngForOf"],["ngFor","",3,"ngForOf"],[1,"tab"],["href","javascript:;",3,"ngClass","click"],[1,"fixture-container"],[1,"fixture-header","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],["class","fixture-body flex-container",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"fixture-body","flex-container"],[1,"prediction-name","horse"],[3,"ngIf"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px",3,"id"],["align","left",3,"src"],[1,"element","flex-item","flex-container","bet-type"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],[1,"row"],["class","col",3,"ngClass",4,"ngFor","ngForOf"],[1,"col","s12"],[1,"col",3,"ngClass"],[1,"element","flex-item","bet-type",2,"display","block"],["class","prediction-name",4,"ngIf"],[1,"element","flex-item","flex-container","bet-type","prediction-btn",2,"display","flex"],["class","prediction-name horse",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px"],[1,"prediction-name"],[1,"btn","w100","secondary-color",3,"click"]],template:function(t,e){1&t&&(l._UZ(0,"virtual-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.qZA(),l._UZ(7,"i",3),l.qZA(),l.TgZ(8,"div",4),l.TgZ(9,"div",5),l._UZ(10,"iframe",6),l.ALo(11,"safeUrl"),l.qZA(),l.qZA(),l.qZA(),l.YNc(12,jt,2,0,"div",7),l.YNc(13,Gt,1,1,"message-box",8),l.YNc(14,Te,18,17,"ng-container",9),l._UZ(15,"app-static-inner-content",10)),2&t&&(l.xp6(3),l.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),l.xp6(2),l.hij(" ",l.lcZ(6,8,"TEXTS.VIRTUAL_HORSES")," "),l.xp6(5),l.Q6J("src",l.lcZ(11,10,e.iframeUrl),l.uOi),l.xp6(2),l.Q6J("ngIf",e.inProgress),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.errors.show),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.fixtures&&!e.errors.show))},directives:[g,o.wRe,r.O5,m.n,h.W,r.sg,r.mk,o.q75],pipes:[u.X$,x.Q,o.zz4,r.JJ],encapsulation:2});var qe=i(18044);function we(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",2),l.TgZ(2,"div",3),l.TgZ(3,"div",4),l._UZ(4,"message-box",5),l.qZA(),l.TgZ(5,"button",6),l.NdJ("click",function(){l.CHM(t);return l.oxw().openModal()}),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.qZA(),l.qZA(),l.BQk()}2&t&&(l.xp6(6),l.Oqu(l.lcZ(7,1,"FIELDS.SEND")))}function Se(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",11),l.TgZ(2,"div",12),l._UZ(3,"iframe",13),l.ALo(4,"safeUrl"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(3),l.Q6J("src",l.lcZ(4,1,t.iframeUrl),l.uOi)}}function Ie(t,e){1&t&&(l.TgZ(0,"div",14),l._UZ(1,"div",15),l.qZA())}function _e(t,e){if(1&t&&l._UZ(0,"message-box",16),2&t){const t=l.oxw(2);l.Q6J("content",t.errors.message)}}function Oe(t,e){if(1&t&&(l.TgZ(0,"div",7),l.YNc(1,Se,5,3,"ng-container",8),l.qZA(),l.YNc(2,Ie,2,0,"div",9),l.YNc(3,_e,1,1,"message-box",10)),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.iframeUrl),l.xp6(1),l.Q6J("ngIf",t.inProgress),l.xp6(1),l.Q6J("ngIf",!t.inProgress&&t.errors.show)}}n.N.map.virtualProviderDetails;class Ue{constructor(t,e,i,s,r,o,n,a,l,u){this.userService=t,this.virtualService=e,this.rootService=i,this.translateFactory=s,this.translate=r,this.route=o,this.utilService=n,this.headerComponent=a,this.traderService=l,this.router=u,this.inProgress=!0,this.destroy$=new c.xQ,this.errors={show:!1,message:""},this.showLoginButton=!1}ngOnInit(){this.providerCode=this.route.snapshot.params.providerCode,"pragmatic-play"!==this.providerCode||this.traderService.trader.isEnablePragmaticVirtuals||this.router.navigate(["/"]),this.isLoggedInSubs=this.userService.isLoggedIn$.subscribe(t=>{"pragmatic-play"!==this.providerCode||t.username?(this.showLoginButton=!1,this.getIframeUrl()):this.showLoginButton=!0}),this.defineWindowFunctions(),this.userService.isAuth()&&!this.userService.user||(this.userService.isAuth()||"pragmatic-play"!==this.providerCode?(this.showLoginButton=!1,this.getIframeUrl()):this.showLoginButton=!0)}ngAfterViewInit(){setTimeout(()=>{this.setMeta()},2e3)}ngOnDestroy(){this.isLoggedInSubs.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}defineWindowFunctions(){window.resizeIframe=t=>{const e=document.body,i=document.documentElement,s=Math.max(e.scrollHeight,e.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);t.height=s+"px",this.utilService.initGoldenRaceWidget("vg_iframe",this.destroy$)}}getIframeUrl(){const t=this.route.snapshot.params.iframeProviderGameId,e=this.translateFactory.currentLang.betradarLangId||this.translateFactory.currentLang.id;let i=0,s=null;this.userService.user&&this.userService.user.customerId&&(i=1,s=this.userService.user.customerId),this.virtualService.getVirtualGameUrl(this.providerCode,t,i,"m",s,e).then(t=>{t.success?(this.errors={message:"",show:!1},this.iframeUrl=t.data.gameUrl):this.translate.get("MESSAGES."+t.data.errorCode).subscribe(t=>{this.errors={message:t,show:!0}}),this.inProgress=!1}).catch(t=>{this.inProgress=!1,this.translate.get(`MESSAGES.${t.error.responseCodes[0].responseKey}`).subscribe(t=>{this.errors={message:t,show:!0}})})}setMeta(){this.rootService.setPageMetaData("virtualSportsPage")}openModal(){this.headerComponent.openModal()}}Ue.\u0275fac=function(t){return new(t||Ue)(l.Y36(o.Ye3),l.Y36(o.xZw),l.Y36(o.U$c),l.Y36(o.chr),l.Y36(u.sK),l.Y36(f.gz),l.Y36(o.XN8),l.Y36(qe.G),l.Y36(o._W6),l.Y36(f.F0))},Ue.\u0275cmp=l.Xpm({type:Ue,selectors:[["app-virtual-provider-details"]],features:[l._Bn([qe.G])],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showVirtualGame",""],[1,"casino-detail-cntr"],[1,"flex-container","signin-msg-csn"],[1,"flex-item"],["type","info","content","LINKS.BINGO_LOGIN_BUTTON"],[1,"btn","t1",3,"click"],["accordion","",1,"virtual-provider-details","modul-accordion","sport-type"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],[1,"modul-content"],[1,"virtual-view"],["id","vg_iframe","name","vg_iframe","width","100%","height","617px","onload","resizeIframe(this)",1,"iframeDefaultSize",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"]],template:function(t,e){if(1&t&&(l.YNc(0,we,8,3,"ng-container",0),l.YNc(1,Oe,4,3,"ng-template",null,1,l.W1O)),2&t){const t=l.MAs(2);l.Q6J("ngIf",e.showLoginButton)("ngIfElse",t)}},directives:[r.O5,h.W,o.wRe],pipes:[u.X$,x.Q],encapsulation:2});const ye=function(t,e){return["/",t,"bet","virtuals","betradar",e]};function Ne(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",12),l.TgZ(2,"a",13),l.ALo(3,"translate"),l.TgZ(4,"div",14),l._UZ(5,"img",15),l._UZ(6,"img",16),l.qZA(),l.TgZ(7,"div",17),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit,e=l.oxw(3);l.xp6(2),l.s9C("title",l.lcZ(3,6,t.name)),l.Q6J("routerLink",l.WLB(10,ye,e.currentLang,t.url)),l.xp6(3),l.hYB("src","",e.traderDefaults.tCDNU,"common/assets/images/virtuals/virtual-",t.url,".jpg",l.LSH),l.xp6(1),l.MGl("src","",e.traderDefaults.tCDNU,"common/assets/images/loading.gif",l.LSH),l.xp6(2),l.hij(" ",l.lcZ(9,8,t.name)," ")}}function Fe(t,e){if(1&t&&(l.ynx(0),l.YNc(1,Ne,10,13,"ng-container",6),l.BQk()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",t.isActive&&t.isDesktop)}}function Ce(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",7),l.TgZ(2,"div",8),l.TgZ(3,"h4",9),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.qZA(),l.TgZ(6,"div",10),l.TgZ(7,"div",5),l.YNc(8,Fe,2,1,"ng-container",11),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(4),l.hij(" ",l.lcZ(5,2,"LINKS.BETRADAR_VIRTUALS")," "),l.xp6(4),l.Q6J("ngForOf",t.menuItems)}}function Ee(t,e){if(1&t&&(l.TgZ(0,"div",12),l.TgZ(1,"a",13),l.TgZ(2,"div",14),l._UZ(3,"img",15),l._UZ(4,"img",16),l.qZA(),l.TgZ(5,"div",17),l._uU(6),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).$implicit,e=l.oxw();l.xp6(1),l.s9C("title",t.lobby.name),l.Q6J("routerLink","/"+e.currentLang+"/bet/virtuals/"+t.provider.code+"/"+t.lobby.iframeProviderGameId),l.xp6(2),l.hYB("src","",e.traderDefaults.tCDNU,"common/assets/images/virtuals/virtual-",t.lobby.iframeProviderGameId,".jpg",l.LSH),l.xp6(1),l.MGl("src","",e.traderDefaults.tCDNU,"common/assets/images/loading.gif",l.LSH),l.xp6(2),l.hij(" ",t.lobby.name," ")}}function Qe(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",12),l.TgZ(2,"a",13),l.TgZ(3,"div",14),l._UZ(4,"img",15),l._UZ(5,"img",16),l.qZA(),l.TgZ(6,"div",17),l._uU(7),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=e.$implicit,i=l.oxw(2).$implicit,s=l.oxw();l.xp6(2),l.s9C("title",t.name),l.Q6J("routerLink","/"+s.currentLang+"/bet/virtuals/"+i.provider.code+"/"+t.iframeProviderGameId),l.xp6(2),l.hYB("src","",s.traderDefaults.tCDNU,"common/assets/images/virtuals/virtual-",t.iframeProviderGameId,".jpg",l.LSH),l.xp6(1),l.MGl("src","",s.traderDefaults.tCDNU,"common/assets/images/loading.gif",l.LSH),l.xp6(2),l.hij(" ",t.name," ")}}function Je(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",7),l.TgZ(2,"div",8),l.TgZ(3,"h4",9),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",10),l.TgZ(6,"div",5),l.YNc(7,Ee,7,6,"div",18),l.YNc(8,Qe,8,6,"ng-container",11),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit;l.xp6(4),l.hij(" ",t.provider.name," "),l.xp6(3),l.Q6J("ngIf",t.lobby&&t.lobby.iframeProviderGameId),l.xp6(1),l.Q6J("ngForOf",t.games)}}function Be(t,e){if(1&t&&(l.TgZ(0,"div",5),l.YNc(1,Ce,9,4,"ng-container",6),l.YNc(2,Je,9,3,"ng-container",6),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf","betradar"===(null==t||null==t.provider?null:t.provider.code)&&!(null==t||(null==t.provider||!t.provider.virtual))),l.xp6(1),l.Q6J("ngIf",(null==t||null==t.provider?null:t.provider.virtual)&&"betradar"!==t.provider.code)}}n.N.map.virtualsLanding;class Le{constructor(t,e,i,s,r,o,n){this.router=t,this.translateFactory=e,this.traderService=i,this.rootService=s,this.virtualService=r,this.translate=o,this.route=n,this.providers=[],this.inProgress=!0,this.errors={show:!1,message:""},this.destroyed$=new c.xQ}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.traderDefaults=this.traderService.trader,this.menuItems=new o.vJe(n.N.trader.name,"d",n.N.trader.isSportingTechTrader,this.traderDefaults).items,this.grEnabled=this.traderService.trader.gre,this.route.params.pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.providerCode=t.providerCode,this.grEnabled?this.getVirtualProviders():(this.addBetradarToProviders(),this.inProgress=!1)}),this.menuItems=(0,p.Z)(this.menuItems,["orderBy","ordering"],["asc","asc"])}get virtualMenuItems(){return"x"}getVirtualProviders(){this.virtualService.getVirtualProviders().then(t=>{if(this.providerCode){let e;e="betradar"===this.providerCode&&this.traderService.trader.isVisibleBetradarVirtuals?{provider:{code:"betradar",name:"Betradar",virtual:!0}}:t.find(t=>t.provider.code===this.providerCode),this.providers=[e]}else this.providers=t,this.traderService.trader.isVisibleBetradarVirtuals&&this.addBetradarToProviders(),this.traderService.trader.virtualBetOrder&&this.orderProviders();if(!this.traderService.trader.isEnablePragmaticVirtuals){const t=this.providers.indexOf(this.providers.find(t=>"pragmatic-play"===t.provider.code));t>-1&&this.providers.splice(t,1)}this.inProgress=!1}).catch(t=>{this.inProgress=!1,this.translate.get("MESSAGES."+t.error.data).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={message:t,show:!0}})})}addBetradarToProviders(){!this.providers.some(t=>"betradar"===t.provider.code)&&this.traderService.trader.isVisibleBetradarVirtuals&&this.providers.unshift({provider:{code:"betradar",name:"Betradar",virtual:!0}})}goToProviderLobby(t){t.lobby&&t.lobby.iframeProviderGameId?this.router.navigate(["/",this.currentLang,"bet","virtuals",t.provider.code,t.lobby.iframeProviderGameId]):this.router.navigate(["/",this.currentLang,"bet","virtuals",t.provider.code,t.games[0].iframeProviderGameId])}setMeta(){this.rootService.setPageMetaData("virtualSportsPage")}orderProviders(){let t=this.traderService.trader.virtualBetOrder;this.providers.sort((e,i)=>{var s=e.provider.code,r=i.provider.code;return t.indexOf(s)<0?1:t.indexOf(r)<0?-1:t.indexOf(s)-t.indexOf(r)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}Le.\u0275fac=function(t){return new(t||Le)(l.Y36(f.F0),l.Y36(o.chr),l.Y36(o._W6),l.Y36(o.U$c),l.Y36(o.xZw),l.Y36(u.sK),l.Y36(f.gz))},Le.\u0275cmp=l.Xpm({type:Le,selectors:[["virtuals-landing"]],decls:6,vars:1,consts:[[1,"e-sport-bg"],[1,"container","casino-cntr"],["contentCode","virtualsports"],["class","row",4,"ngFor","ngForOf"],["contentCode","virtualsports-bottom"],[1,"row"],[4,"ngIf"],[1,"col","s12","right-content"],[1,"flex-container","clear"],[1,"rtitle","flex-item"],[1,"gm-cntr"],[4,"ngFor","ngForOf"],[1,"col","pg-grd-6","csn-crd-col"],["href","javascript:;",1,"csn-crd",3,"routerLink","title"],[1,"crd-img"],["alt","",1,"gm-img",3,"src"],["alt","",1,"gm-img","loading",3,"src"],[1,"crd-nm"],["class","col pg-grd-6 csn-crd-col",4,"ngIf"]],template:function(t,e){1&t&&(l._UZ(0,"virtual-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l._UZ(3,"app-static-inner-content",2),l.YNc(4,Be,3,2,"div",3),l._UZ(5,"app-static-inner-content",4),l.qZA(),l.qZA()),2&t&&(l.xp6(4),l.Q6J("ngForOf",e.providers))},directives:[g,m.n,r.sg,r.O5,f.yS],pipes:[u.X$],encapsulation:2});var Ye=i(90800);const $e={"virtual-euro-cup":{name:"virtual-euro-cup",iframeUrl:"iframe-virtual-eurocup",iframeSize:{width:"766",height:"571"},meta:"virtualSports.football-euro-cup",headerText:"TEXTS.VIRTUAL_FOOTBALL_EURO_CUP",seasonText:"TEXTS.VFEC_SEASON",iframeSelector:"vfec_iframe",iframeMatches:"setVfecMatches",iframeHeight:"setVfecHeight",stats:"openVfecStats",contentCode:"virtual-football-euro-cup",statisticsParameter:"betradar-virtual-football",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-world-cup":{name:"virtual-world-cup",meta:"virtualSports.football-world-cup",iframeUrl:"virtual-football-world-cup",iframeSize:{width:"766",height:"571"},headerText:"TEXTS.VIRTUAL_FOOTBALL_WORLD_CUP",seasonText:"TEXTS.VFWC_SEASON",iframeSelector:"vfwc_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfStats",contentCode:"virtual-football-world-cup",statisticsParameter:"betradar-virtual-football",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-football-nation-cup":{name:"virtual-football-nation-cup",meta:"virtualSports.football-nation-cup",iframeUrl:"virtual-football-nation-cup",iframeSize:{width:"766",height:"571"},headerText:"TEXTS.VIRTUAL_FOOTBALL_NATION_CUP",seasonText:"TEXTS.VFNC_SEASON",iframeSelector:"vfnc_iframe",iframeMatches:"setVfecMatches",iframeHeight:"setVfecHeight",stats:"openVfecStats",contentCode:"virtual-football-nations-cup",statisticsParameter:"betradar-virtual-football",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-league-mod":{name:"virtual-league-mod",meta:"virtualSports.football-nation-cup",iframeUrl:"virtual-football-league-mode",iframeSize:{width:"762",height:"571"},headerText:"TEXTS.VIRTUAL_FOOTBALL_LEAGUE_MODE",seasonText:"TEXTS.VFLM_SEASON",iframeSelector:"vlm_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfecStats",contentCode:"virtual-football-league-mode",statisticsParameter:"",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-asian-cup":{name:"virtual-asian-cup",meta:"virtualSports.football-asian-cup",iframeUrl:"virtual-football-asian-cup",iframeSize:{width:"762",height:"571"},headerText:"LINKS.VIRTUAL_FOOTBALL_ASIAN_CUP",seasonText:"TEXTS.VFAC_SEASON",iframeSelector:"vfac_iframe",iframeMatches:"setVfecMatches",iframeHeight:"setVfecHeight",stats:"openVfecStats",contentCode:"virtual-asian-cup",statisticsParameter:"betradar-virtual-football",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-champions-cup":{name:"virtual-champions-cup",meta:"virtualSports.football-champions-cup",iframeUrl:"virtual-football-champions-cup",iframeSize:{width:"766",height:"571"},headerText:"LINKS.VIRTUAL_FOOTBALL_CHAMPIONS_CUP",seasonText:"TEXTS.VFCC_SEASON",iframeSelector:"vfcc_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfStats",contentCode:"virtual-champions-cup",statisticsParameter:"betradar-virtual-football",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-bundesliga":{name:"virtual-bundesliga",meta:"virtualSports.football-bundesliga",iframeUrl:"virtual-football-bundesliga",iframeSize:{width:"766",height:"612"},headerText:"LINKS.VIRTUAL_FOOTBALL_BUNDESLIGA",seasonText:"TEXTS.VFB_SEASON",iframeSelector:"vfb_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfStats",contentCode:"virtual-bundesliga",statisticsParameter:"virtual-football-bundesliga",model:(t,e)=>({sportTypeId:80,seasonNumber:Number(t.competition_nr),matchDay:Number(t.matchset_nr),groupMatches:t.match_ids,urlParam:e})},"virtual-basketball":{name:"virtual-basketball",meta:"virtualSports.basketball",iframeUrl:"iframe-virtual-basketball",iframeSize:{width:"762",height:"670"},headerText:"TEXTS.VIRTUAL_BASKETBALL",seasonText:"TEXTS.VBL_SEASON",iframeSelector:"vbl_iframe",iframeMatches:"setVblMatchday",iframeHeight:"setVblHeight",contentCode:"virtual-basketball",stats:"openVblStats",model:(t,e)=>({sportTypeId:45,seasonNumber:Number(t.season_name),matchDay:Number(t.match_day),urlParam:e})}};function Me(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",8),l.TgZ(2,"div",9),l._UZ(3,"iframe",10),l.ALo(4,"safeUrl"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Q6J("name",null==t.configuration?null:t.configuration.iframeSelector)("id",null==t.configuration?null:t.configuration.iframeSelector)("src",l.lcZ(4,5,t.iframeUrl),l.uOi)("width",null==t.configuration||null==t.configuration.iframeSize?null:t.configuration.iframeSize.width)("height",null==t.configuration||null==t.configuration.iframeSize?null:t.configuration.iframeSize.height)}}function Pe(t,e){1&t&&(l.TgZ(0,"div",11),l._UZ(1,"div",12),l.qZA())}function ke(t,e){if(1&t&&l._UZ(0,"message-box",13),2&t){const t=l.oxw();l.Q6J("content",t.errors.message)}}function Ve(t,e){if(1&t&&(l.TgZ(0,"div",40),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Oqu(t.btgNO)}}function je(t,e){if(1&t&&(l.TgZ(0,"div",38),l._UZ(1,"div",19),l._UZ(2,"div",20),l._UZ(3,"div",21),l._UZ(4,"div",23),l._UZ(5,"div",24),l._UZ(6,"div",25),l.YNc(7,Ve,2,1,"div",39),l._UZ(8,"div",27),l._UZ(9,"div",30),l.qZA()),2&t){const t=l.oxw(3);l.xp6(7),l.Q6J("ngForOf",t.fixtures[0].btgs2)}}function Ge(t,e){1&t&&(l.TgZ(0,"div",38),l.TgZ(1,"div",21),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"div",30),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Oqu(l.lcZ(3,2,"TEXTS.MATCH")),l.xp6(3),l.Oqu(l.lcZ(6,4,"TEXTS.OTHER")))}const He=function(t){return{active:t}},Re=function(t,e,i){return{cI:0,sI:0,fI:t,bI:e,oI:i,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function De(t,e){if(1&t&&(l.TgZ(0,"a",43),l.TgZ(1,"span",44),l._uU(2),l.ALo(3,"oF"),l.ALo(4,"number"),l.qZA(),l.TgZ(5,"span",45),l._uU(6),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw().$implicit,i=l.oxw().index,s=l.oxw(2);l.Q6J("ngClass",l.VKq(12,He,s.activeBetButtons[e.fos[t+1].foId+"-1"]))("sport-type",s.sport)("bet-map",l.kEZ(14,Re,i,e.bI,t+1)),l.uIk("foId",e.fos[t+1].foId),l.xp6(2),l.Oqu(l.xi3(3,6,l.xi3(4,9,e.fos[t+1].hO,"1.2-2"),s.ofs.aOFI)),l.xp6(4),l.Oqu(e.fos[t+1].hSh)}}function Xe(t,e){if(1&t&&(l.TgZ(0,"a",43),l.TgZ(1,"span",44),l._uU(2),l.ALo(3,"oF"),l.ALo(4,"number"),l.qZA(),l.TgZ(5,"span",45),l._uU(6),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw().$implicit,i=l.oxw().index,s=l.oxw(2);l.Q6J("ngClass",l.VKq(12,He,s.activeBetButtons[e.fos[t+2].foId+"-1"]))("sport-type",s.sport)("bet-map",l.kEZ(14,Re,i,e.bI,t+2)),l.uIk("foId",e.fos[t+2].foId),l.xp6(2),l.Oqu(l.xi3(3,6,l.xi3(4,9,e.fos[t+2].hO,"1.2-2"),s.ofs.aOFI)),l.xp6(4),l.Oqu(e.fos[t+2].hSh)}}function Ke(t,e){if(1&t&&(l.TgZ(0,"a",43),l.TgZ(1,"span",44),l._uU(2),l.ALo(3,"oF"),l.ALo(4,"number"),l.qZA(),l.TgZ(5,"span",45),l._uU(6),l.qZA(),l.qZA(),l.YNc(7,De,7,18,"a",46),l.YNc(8,Xe,7,18,"a",46)),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw().$implicit,r=l.oxw().index,o=l.oxw(2);l.Q6J("ngClass",l.VKq(14,He,o.activeBetButtons[e.foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(16,Re,r,s.bI,i)),l.uIk("foId",e.foId),l.xp6(2),l.Oqu(l.xi3(3,8,l.xi3(4,11,e.hO,"1.2-2"),o.ofs.aOFI)),l.xp6(4),l.Oqu(e.hSh),l.xp6(1),l.Q6J("ngIf",s.fos[i+1]),l.xp6(1),l.Q6J("ngIf",s.fos[i+2])}}function ze(t,e){if(1&t&&l.YNc(0,Ke,9,20,"ng-template",42),2&t){const t=e.index;l.Q6J("ngIf",0===t)}}function We(t,e){if(1&t&&(l.TgZ(0,"div",41),l.YNc(1,ze,1,1,"ng-template",16),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.fos)}}function ti(t,e){if(1&t&&(l.TgZ(0,"a",51),l.TgZ(1,"span",52),l._uU(2),l.qZA(),l.TgZ(3,"span",44),l._uU(4),l.ALo(5,"oF"),l.ALo(6,"number"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw(),i=e.$implicit,s=e.index,r=l.oxw().index,o=l.oxw(2);l.s9C("title",i.fos[t+1].hSh),l.Q6J("ngClass",l.VKq(13,He,o.activeBetButtons[i.fos[t+1].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(15,Re,r,s,t+1)),l.uIk("foId",i.fos[t+1].foId),l.xp6(2),l.Oqu(i.fos[t+1].hSh),l.xp6(2),l.Oqu(l.xi3(5,7,l.xi3(6,10,i.fos[t+1].hO,"1.2-2"),o.ofs.aOFI))}}function ei(t,e){if(1&t&&(l.TgZ(0,"a",51),l.TgZ(1,"span",52),l._uU(2),l.qZA(),l.TgZ(3,"span",44),l._uU(4),l.ALo(5,"oF"),l.ALo(6,"number"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).index,e=l.oxw(),i=e.$implicit,s=e.index,r=l.oxw().index,o=l.oxw(2);l.s9C("title",i.fos[t+2].hSh),l.Q6J("ngClass",l.VKq(13,He,o.activeBetButtons[i.fos[t+2].foId+"-1"]))("sport-type",o.sport)("bet-map",l.kEZ(15,Re,r,s,t+2)),l.uIk("foId",i.fos[t+2].foId),l.xp6(2),l.Oqu(i.fos[t+2].hSh),l.xp6(2),l.Oqu(l.xi3(5,7,l.xi3(6,10,i.fos[t+2].hO,"1.2-2"),o.ofs.aOFI))}}function ii(t,e){if(1&t&&(l.TgZ(0,"div",50),l.TgZ(1,"a",51),l.TgZ(2,"span",52),l._uU(3),l.qZA(),l.TgZ(4,"span",44),l._uU(5),l.ALo(6,"oF"),l.ALo(7,"number"),l.qZA(),l.qZA(),l.YNc(8,ti,7,19,"a",53),l.YNc(9,ei,7,19,"a",53),l.qZA()),2&t){const t=l.oxw(),e=t.$implicit,i=t.index,s=l.oxw(),r=s.index,o=s.$implicit,n=l.oxw().index,a=l.oxw(2);l.xp6(1),l.s9C("title",e.hSh),l.Q6J("ngClass",l.VKq(15,He,a.activeBetButtons[e.foId+"-1"]))("sport-type",a.sport)("bet-map",l.kEZ(17,Re,n,r,i)),l.uIk("foId",e.foId),l.xp6(2),l.Oqu(e.hSh),l.xp6(2),l.Oqu(l.xi3(6,9,l.xi3(7,12,e.hO,"1.2-2"),a.ofs.aOFI)),l.xp6(3),l.Q6J("ngIf",o.dt[0]>1&&o.fos[i+1]),l.xp6(1),l.Q6J("ngIf",3===o.dt[0]&&o.fos[i+2])}}function si(t,e){if(1&t&&l.YNc(0,ii,10,21,"div",49),2&t){const t=e.index,i=l.oxw().$implicit;l.Q6J("ngIf",t%i.dt[0]==0)}}function ri(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l.TgZ(2,"div",47),l.TgZ(3,"div",48),l._uU(4),l.qZA(),l.qZA(),l.YNc(5,si,1,1,"ng-template",16),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(4),l.Oqu(t.btgN),l.xp6(1),l.Q6J("ngForOf",t.fos)}}function oi(t,e){if(1&t){const t=l.EpF();l.YNc(0,je,10,1,"div",17),l.YNc(1,Ge,7,6,"div",17),l.TgZ(2,"div",18),l._UZ(3,"div",19),l.TgZ(4,"div",20),l._uU(5),l.qZA(),l.TgZ(6,"div",21),l.TgZ(7,"a",22),l._uU(8),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"a",22),l._uU(11),l.qZA(),l.qZA(),l._UZ(12,"div",23),l._UZ(13,"div",24),l._UZ(14,"div",25),l.YNc(15,We,2,1,"div",26),l.TgZ(16,"div",27),l.TgZ(17,"a",28),l.NdJ("click",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).openStatistic(i,e)}),l.TgZ(18,"i",29),l._uU(19,"equalizer"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",30),l.TgZ(21,"span",31),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return e.active=!e.active}),l._uU(22),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",32),l.TgZ(24,"div",33),l.TgZ(25,"h6",34),l._uU(26),l.TgZ(27,"b"),l._uU(28,"VS"),l.qZA(),l._uU(29),l._UZ(30,"br"),l.TgZ(31,"span",35),l._uU(32),l.qZA(),l.qZA(),l.TgZ(33,"a",36),l.NdJ("click",function(){return l.CHM(t).$implicit.active=!1}),l.TgZ(34,"i",29),l._uU(35,"close"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(36,"table"),l.TgZ(37,"tbody"),l.YNc(38,ri,6,2,"tr",37),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index;l.Q6J("ngIf",0===i),l.xp6(1),l.Q6J("ngIf",0===i),l.xp6(4),l.Oqu(t.mCod),l.xp6(3),l.Oqu(t.hcN),l.xp6(3),l.Oqu(t.acN),l.xp6(4),l.Q6J("ngForOf",t.btgs2),l.xp6(7),l.hij("+",t.fDS,""),l.xp6(1),l.Q6J("ngClass",l.VKq(12,He,t.active)),l.xp6(3),l.hij(" ",t.hcN," "),l.xp6(3),l.hij(" ",t.acN," "),l.xp6(3),l.Oqu(t.mCod),l.xp6(6),l.Q6J("ngForOf",t.btgs)}}function ni(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",14),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.ALo(7,"translate"),l.qZA(),l._UZ(8,"i",3),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"div",15),l.YNc(11,oi,39,14,"ng-template",16),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy(" ",l.lcZ(6,8,null==t.configuration?null:t.configuration.seasonText)," ",t.seasonInfo.season_name," - ",l.lcZ(7,10,"TEXTS.MATCHDAY")," ",t.seasonInfo.match_day,""),l.xp6(6),l.Q6J("ngForOf",t.fixtures)}}function ai(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",18),l.TgZ(1,"div",21),l.TgZ(2,"a",22),l._uU(3),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"a",22),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"div",30),l.TgZ(8,"span",54),l._uU(9),l.qZA(),l.TgZ(10,"a",28),l.NdJ("click",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).openStatistic(i,e)}),l.TgZ(11,"i",29),l._uU(12,"equalizer"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(3),l.Oqu(t.hcN),l.xp6(3),l.Oqu(t.acN),l.xp6(3),l.Oqu(t.cSc)}}function ci(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",14),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.ALo(7,"translate"),l.qZA(),l._UZ(8,"i",3),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"div",15),l.TgZ(11,"div",38),l.TgZ(12,"div",21),l._uU(13),l.ALo(14,"translate"),l.qZA(),l.qZA(),l.YNc(15,ai,13,3,"ng-template",16),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(3),l.Gre("",null==t.virtualSportObj?null:t.virtualSportObj.iconClass," left"),l.xp6(2),l.HOy("",l.lcZ(6,9,"TEXTS.VFEC_SEASON")," ",t.seasonInfo.season_name,"- ",l.lcZ(7,11,"TEXTS.MATCHDAY")," ",t.seasonInfo.match_day,""),l.xp6(8),l.Oqu(l.lcZ(14,13,"TEXTS.MATCH")),l.xp6(2),l.Q6J("ngForOf",t.oldFixtures)}}function li(t,e){if(1&t&&l._UZ(0,"app-static-inner-content",55),2&t){const t=l.oxw();l.Q6J("contentCode",null==t.configuration?null:t.configuration.contentCode)}}n.N.map.virtualBase;class ui{constructor(t,e,i,s,r,o,n){this.applicationService=t,this.rootService=e,this.route=i,this.translate=s,this.virtualService=r,this.ofs=o,this.translateFactory=n,this.inProgress=!0,this.seasonInfo=null,this.statisticsSetting=null,this.sport={cs:[{sns:[{fs:null}]}]},this.fixtureShow={oldF:!1,newF:!0},this.errors={show:!1,message:""},this.configuration=null,this.destroyed$=new c.xQ}get activeBetButtons(){return this.rootService.activeBetButtons}ngOnInit(){this.route.data.pipe((0,Ye.q)(1)).subscribe(t=>{this.configuration=$e[t.name];const e=this.applicationService.settingList.find(t=>t.parameter===this.configuration.iframeUrl),i=new RegExp(/{lang}/,"g");this.iframeUrl=e.value.replace(i,this.translateFactory.currentLang.code),this.route.url.pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(t[1].path,"d"),this.beforeAction(this.virtualSportObj.sortName)})})}beforeAction(t){this.statisticsSetting=this.applicationService.settingList.find(t=>t.parameter===this.configuration.statisticsParameter),window[this.configuration.iframeMatches]=e=>{const i=this.configuration.model(e,t);this.seasonInfo=e,this.pullFixtures(i),this.setHeight(),this.inProgress=!0}}setHeight(){window[this.configuration.iframeHeight]=t=>{document.getElementsByName(this.configuration.iframeSelector)[0].height=`${t.height}px`}}pullFixtures(t){this.inProgress=!0;const e=new o.qPv(t);this.virtualService.getVirtualSomeFixtures(e).then(t=>{try{void 0!==t.cScs?(this.oldFixtures=t.cScs,this.fixtureShow={oldF:!0,newF:!1}):(this.fixtures=t,this.fixtureShow={oldF:!1,newF:!0},this.sport.cs[0].sns[0].fs=this.fixtures),this.errors={show:!1,message:""}}catch(e){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}}),this.oldFixtures=null,this.fixtures=null}this.inProgress=!1},t=>{try{this.translate.get(`MESSAGES.${t.responseCodes[0].responseKey}`).pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}catch(t){this.translate.get("MESSAGES.EXCEPTION").pipe((0,a.R)(this.destroyed$)).subscribe(t=>{this.errors={show:!0,message:t}})}this.inProgress=!1,this.oldFixtures=null,this.fixtures=null})}openStatistic(t,e){null!==document.getElementsByName(this.configuration.iframeSelector)[0]&&(e.preventDefault(),e.stopPropagation(),window.document[this.configuration.iframeSelector][this.configuration.stats](t.hcBId,t.acBId,this.seasonInfo.season_id))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}ui.\u0275fac=function(t){return new(t||ui)(l.Y36(o.Wd0),l.Y36(o.U$c),l.Y36(f.gz),l.Y36(u.sK),l.Y36(o.xZw),l.Y36(o.Wo4),l.Y36(o.chr))},ui.\u0275cmp=l.Xpm({type:ui,selectors:[["app-virtual-base"]],decls:14,vars:12,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],[3,"contentCode",4,"ngIf"],[1,"modul-content"],[1,"virtual-view"],[2,"border","none",3,"name","id","src","width","height"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"fixture-container"],["ngFor","",3,"ngForOf"],["class","fixture-header flex-container",4,"ngIf"],[1,"fixture-body","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],["href","javascript:;"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[1,"element","statistic"],["href","javascript:;",1,"statistic","right",3,"click"],[1,"material-icons"],[1,"element","other"],[1,"btn","other-btn","waves-effect","waves-light","left",3,"click"],[1,"caption-pg",3,"ngClass"],[1,"caption-pg-header","flex-container"],[1,"flex-item","title"],[1,"match-code"],["href","javascript:;",1,"close-caption",3,"click"],[4,"ngFor","ngForOf"],[1,"fixture-header","flex-container"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"element","flex-item","flex-container","bet-type"],[3,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item","twoRow",3,"ngClass","sport-type","bet-map"],[1,"bet-btn-odd"],[1,"bet-btn-text"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item twoRow","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],[1,"flex-container"],[1,"flex-item","center-align"],["class","flex-container bet-type-btn-group",4,"ngIf"],[1,"flex-container","bet-type-btn-group"],["href","javascript:;","bet-button","",1,"flex-container","btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map","title"],[1,"flex-item","bet-btn-text"],["href","javascript:;","class","flex-container btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map","title",4,"ngIf"],["href","javascript:;",1,"left","btn","other-btn","waves-effect","waves-light"],[3,"contentCode"]],template:function(t,e){1&t&&(l._UZ(0,"virtual-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l._UZ(3,"i"),l.TgZ(4,"span",2),l._uU(5),l.ALo(6,"translate"),l.qZA(),l._UZ(7,"i",3),l.qZA(),l.YNc(8,Me,5,7,"ng-container",4),l.qZA(),l.YNc(9,Pe,2,0,"div",5),l.YNc(10,ke,1,1,"message-box",6),l.YNc(11,ni,12,12,"ng-container",4),l.YNc(12,ci,16,15,"ng-container",4),l.YNc(13,li,1,1,"app-static-inner-content",7)),2&t&&(l.xp6(3),l.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),l.xp6(2),l.hij(" ",l.lcZ(6,10,null==e.configuration?null:e.configuration.headerText)," "),l.xp6(3),l.Q6J("ngIf",e.iframeUrl),l.xp6(1),l.Q6J("ngIf",e.inProgress),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.errors.show),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.fixtures&&e.fixtures.length&&e.fixtureShow.newF&&!e.fixtureShow.oldF&&!e.errors.show),l.xp6(1),l.Q6J("ngIf",!e.inProgress&&e.oldFixtures&&e.oldFixtures.length&&!e.fixtureShow.newF&&e.fixtureShow.oldF&&!e.errors.show),l.xp6(1),l.Q6J("ngIf",e.configuration))},directives:[g,o.wRe,r.O5,h.W,r.sg,r.mk,o.q75,m.n],pipes:[u.X$,x.Q,o.zz4,r.JJ],encapsulation:2});const fi=[{path:"",pathMatch:"full",component:Le,data:{name:"virtual-landing",meta:"virtualSportsPage"}},{path:":providerCode",pathMatch:"full",component:Le},{path:"betradar/euro-cup",component:ui,data:{name:"virtual-euro-cup"}},{path:"betradar/bundesliga",component:ui,data:{name:"virtual-bundesliga"}},{path:"betradar/world-cup",component:ui,data:{name:"virtual-world-cup"}},{path:"betradar/nations-cup",component:ui,data:{name:"virtual-football-nation-cup"}},{path:"betradar/league-mode",component:ui,data:{name:"virtual-league-mod"}},{path:"betradar/asian-cup",component:ui,data:{name:"virtual-asian-cup"}},{path:"betradar/champions-cup",component:ui,data:{name:"virtual-champions-cup",meta:"virtualSports.football-champions-cup"}},{path:"betradar/basketball",component:ui,data:{name:"virtual-basketball",meta:"virtualSports.basketball"}},{path:"betradar/football",component:mt,data:{name:"virtual-football",meta:"virtualSports.football"}},{path:"betradar/tennis",component:j,data:{name:"virtual-tennis",meta:"virtualSports.tennis"}},{path:"betradar/dogs",component:Vt,data:{name:"virtual-dogs",meta:"virtualSports.dogs"}},{path:"betradar/horses",component:Ae,data:{name:"virtual-horses",meta:"virtualSports.horses"}},{path:":providerCode/:iframeProviderGameId",pathMatch:"full",component:Ue},{path:"football",component:mt,redirectTo:"betradar/football",data:{name:"virtual-football",meta:"virtualSports.football"}},{path:"euro-cup",component:ui,redirectTo:"betradar/euro-cup",data:{name:"virtual-euro-cup",meta:"virtualSports.football-euro-cup"}},{path:"asian-cup",component:ui,redirectTo:"betradar/asian-cup",data:{name:"virtual-asian-cup",meta:"virtualSports.football-nation-cup"}},{path:"world-cup",component:ui,redirectTo:"betradar/world-cup",data:{name:"virtual-world-cup",meta:"virtualSports.football-world-cup"}},{path:"champions-cup",component:ui,redirectTo:"betradar/champions-cup",data:{name:"virtual-champions-cup",meta:"virtualSports.football-world-cup"}},{path:"nations-cup",component:ui,redirectTo:"betradar/nations-cup",data:{name:"virtual-football-nation-cup",meta:"virtualSports.football-nation-cup"}},{path:"league-mode",component:ui,redirectTo:"betradar/league-mode",data:{name:"virtual-league-mod",meta:"virtualSports.football-nation-cup"}},{path:"basketball",component:ui,redirectTo:"betradar/basketball",data:{name:"virtual-basketball",meta:"virtualSports.basketball"}},{path:"tennis",component:j,redirectTo:"betradar/tennis",data:{name:"virtual-tennis",meta:"virtualSports.tennis"}},{path:"dogs",component:Vt,redirectTo:"betradar/dogs",data:{name:"virtual-dogs",meta:"virtualSports.dogs"}},{path:"horses",component:Ae,redirectTo:"betradar/horses",data:{name:"virtual-horses",meta:"virtualSports.horses"}}],pi=f.Bz.forChild(fi);class di{}di.\u0275fac=function(t){return new(t||di)},di.\u0275mod=l.oAB({type:di}),di.\u0275inj=l.cJS({providers:[],imports:[[r.ez,s.m,pi]]})}}]);