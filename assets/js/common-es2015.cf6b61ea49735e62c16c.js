(self.webpackChunkfenrir=self.webpackChunkfenrir||[]).push([[592],{91059:function(e,r,t){"use strict";t.d(r,{M:function(){return S}});var i=t(97296),a=t(16617),n=t(72643),s=t(98995),o=t(86910),c=t(7035),u=t(46627),d=t(39645),l=function(e,r,t,i){return new(t||(t=Promise))(function(a,n){function s(e){try{c(i.next(e))}catch(r){n(r)}}function o(e){try{c(i.throw(e))}catch(r){n(r)}}function c(e){var r;e.done?a(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(s,o)}c((i=i.apply(e,r||[])).next())})};function h(e,r){if(1&e&&(n.TgZ(0,"a",19),n._UZ(1,"i"),n._uU(2),n.ALo(3,"translate"),n.qZA()),2&e){const e=n.oxw().$implicit,r=n.oxw(3);n.hYB("routerLink","/",r.currentLang,"/",e.url,""),n.xp6(1),n.Gre("fa ",e.icon,""),n.xp6(1),n.hij(" ",n.lcZ(3,6,e.name),"")}}function f(e,r){if(1&e&&(n.TgZ(0,"a",20),n._UZ(1,"i"),n._uU(2),n.ALo(3,"translate"),n.qZA()),2&e){const e=n.oxw().$implicit;n.s9C("href",e.staticUrl,n.LSH),n.xp6(1),n.Gre("fa ",e.icon,""),n.xp6(1),n.hij(" ",n.lcZ(3,5,e.name),"")}}function m(e,r){if(1&e&&(n.TgZ(0,"li",16),n.YNc(1,h,4,8,"a",17),n.YNc(2,f,4,7,"a",18),n.qZA()),2&e){const e=r.$implicit;n.Q6J("hidden",!e.active),n.xp6(1),n.Q6J("ngIf",!!e.url),n.xp6(1),n.Q6J("ngIf",!!e.staticUrl)}}function p(e,r){if(1&e&&(n.ynx(0),n.TgZ(1,"div",12),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",13),n.TgZ(5,"ul",14),n.YNc(6,m,3,3,"li",15),n.qZA(),n.qZA(),n.BQk()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,e.name)),n.xp6(4),n.Q6J("ngForOf",e.menuItems)}}function T(e,r){if(1&e&&(n.TgZ(0,"li",10),n.YNc(1,p,7,4,"ng-container",11),n.qZA()),2&e){const e=r.$implicit;n.xp6(1),n.Q6J("ngIf",e.active)}}a.N.map.dashboard;class S{constructor(e,r,t,i,a,n,s){this.userService=e,this.traderService=r,this.translate=t,this.translateX=i,this.userResolverService=a,this.staticContentService=n,this.iframeReportsService=s,this.menuGroups=[],this.dynamicMenuGroups=[],this.collapseMenu={},this.onlyCasino=!1,this.onlySportsbook=!1,this.isCommonBalance=!1,this.isKlasPokerOpen=!1,this.isTransferDisabled=!1}ngOnInit(){this.traderDefaults=this.traderService.trader,this.onlyCasino=a.N.trader.onlyCasino,this.userService.getCurrentCustomer().then(e=>{this.currentUser=this.userService.user}).catch(e=>{}),void 0===a.N.trader.freeSpinDetailPage&&(a.N.trader.freeSpinDetailPage=!0),void 0===a.N.trader.userSettingsPage&&(a.N.trader.userSettingsPage=!0),this.currentLang=this.translate.currentLang.code,this.host=location.host,this.isCommonBalance=!!this.traderService.trader.tCB,this.isKlasPokerOpen="1"===this.traderService.trader.tKGO,this.isTransferDisabled=a.N.trader.isTransferDisabled||this.isCommonBalance&&!this.isKlasPokerOpen,this.beforeAction()}beforeAction(){return l(this,void 0,void 0,function*(){yield this.setMenuItems(),this.menuGroups[1].menuItems.forEach(e=>{"ultraplay"===e.code&&(e.name=`${this.translateX.instant("LINKS.ULTRAPLAY_ESPORTS")} ${this.translateX.instant("LINKS.TRANSACTION_REPORT")}`)}),this.getDynamicMenuItems()})}collapseMenuOnClick(e){this.collapseMenu[e]=!this.collapseMenu[e]}setMenuItems(){return l(this,void 0,void 0,function*(){return this.menuGroups=[{name:"TEXTS.MY_ACCOUNT",order:1,group:1,active:!a.N.trader.IsIframe,menuItems:[{name:"TEXTS.DEPOSIT",url:"/dashboard/payments/deposit-money",order:1,icon:"fa-money",active:!0},{name:"TEXTS.WITHDRAW",url:"/dashboard/payments/withdraw-money",order:2,icon:"fa-money",active:!0},{name:"TEXTS.TRANSFER",url:"/dashboard/payments/transfer",order:3,icon:"fa-exchange",active:!this.isTransferDisabled},{name:"TEXTS.PROMOTIONS",url:"/dashboard/payments/promotions",order:4,icon:"fa-gift",active:!0},{name:"LINKS.COMPLAINTS_SUGGESTIONS",staticUrl:"//"+this.host+"/contents/promotions",order:4,icon:"fa-calendar-plus-o",active:!1}]},{name:"TEXTS.TRANSACTIONS",order:2,group:2,active:!0,menuItems:[{name:"TEXTS.BET_HISTORY_HEADER",url:"/dashboard/account-activity/bet-history",order:1,icon:"fa-history",active:!this.onlyCasino},{name:"LINKS.JACKPOT_HISTORY",url:"/dashboard/account-activity/jackpot-history",order:1,icon:"fa-history",active:this.traderDefaults.jpOpen},{name:"LINKS.FINANCIAL_TRANSACTIONS",url:"/dashboard/account-activity/financial-transactions",order:2,icon:"fa-pie-chart",active:!a.N.trader.IsIframe&&!this.onlySportsbook},{name:"LINKS.BONUS_ACTIVITIES",url:"/dashboard/account-activity/bonus-activities",order:3,icon:"fa-gift",active:!a.N.trader.IsIframe},{name:"TEXTS.CASINOPRO_HISTORY",url:"/dashboard/account-activity/casino-pro-history",order:4,icon:"fa-history",active:!this.onlySportsbook&&!a.N.trader.IsIframe},{name:"LINKS.FREESPIN_DETAILS",url:"/dashboard/account-activity/free-spin",order:5,icon:"fa-history",active:!this.onlySportsbook&&!a.N.trader.IsIframe&&a.N.trader.freeSpinDetailPage}]},{name:"TEXTS.USER_ACTIONS",order:3,group:3,active:!0,menuItems:[{name:"TEXTS.PERSONAL_AND_ACCOUNT_INFORMATION",url:"/dashboard/user-info/personal-and-account-detail",order:1,icon:"fa-user",active:!a.N.trader.IsIframe},{name:"TEXTS.PERSONAL_INFORMATION",url:"/dashboard/user-info/user-details",order:1,icon:"fa-user-plus",active:!1},{name:"TEXTS.ACCOUNT_INFORMATION",url:"/dashboard/user-info/account-details",order:2,icon:"fa-user-plus",active:!1},{name:"TEXTS.CHANGE_PASSWORD",url:"/dashboard/user-info/change-password",order:3,icon:"fa-unlock-alt",active:!a.N.trader.IsIframe},{name:"TEXTS.LIMIT_SETTINGS",url:"/dashboard/user-info/limit-settings",order:4,icon:"fa-clock-o",active:!0},{name:"TEXTS.USER_SETTINGS",url:"/dashboard/user-info/user-settings",order:5,icon:"fa-user-plus",active:!a.N.trader.IsIframe&&a.N.trader.userSettingsPage},{name:"TEXTS.DOCUMENTS",url:"/dashboard/user-info/documents",order:6,icon:"fa-id-card-o",active:!a.N.trader.IsIframe&&!!this.traderDefaults.tKYCON},{name:"TEXTS.TWO_STEP_VERIFICATION",url:"/dashboard/user-info/user-security",order:7,icon:"fa-check-square-o",active:!a.N.trader.IsIframe&&!this.traderDefaults.hideTwoStepVerification},{name:"TEXTS.FRIEND_REFERRAL",url:"/dashboard/user-info/friend-referral",order:2,icon:"fa-users",active:!a.N.trader.IsIframe&&!!this.traderDefaults.friendReferralWithReferenceCode}]}],this.iframeReportsService.getIframeProviders(this.menuGroups)})}getDynamicMenuItems(){const e=new i.qPv("dashboard-sidebar-items");this.staticContentService.getStaticContent(e).then(e=>{if(e){const r=JSON.parse(e[0].moduleContent);this.dynamicMenuGroups=r,this.dynamicMenuGroups.forEach(e=>{const r=this.menuGroups.find(r=>r.name===e.name);if(r){const t=this.menuGroups.indexOf(r);this.menuGroups[t].menuItems.push(...e.menuItems),this.menuGroups[t].menuItems.sort(this.compare)}else this.menuGroups.push(e),this.menuGroups.sort(this.compare)})}})}compare(e,r){return e.order<r.order?-1:e.order>r.order?1:0}}S.\u0275fac=function(e){return new(e||S)(n.Y36(i.Ye3),n.Y36(i._W6),n.Y36(i.chr),n.Y36(s.sK),n.Y36(i.gu2),n.Y36(i.KV5),n.Y36(i.G34))},S.\u0275cmp=n.Xpm({type:S,selectors:[["app-dashboard"]],decls:16,vars:9,consts:[[1,"container","dshbrd-cntr"],[1,"row"],[1,"col","s3","lft-cntnt"],[1,"u-info"],[1,"u-name"],[1,"u-number"],[1,"dshbrd-sdbr"],["materialize","collapsible","data-collapsible","expandable",1,"collapsible"],["class","active",4,"ngFor","ngForOf"],[1,"col","s9","rght-cntnt"],[1,"active"],[4,"ngIf"],[1,"collapsible-header","active"],[1,"collapsible-body",2,"display","block"],[1,"collection"],["class","collection-item",3,"hidden",4,"ngFor","ngForOf"],[1,"collection-item",3,"hidden"],["routerLinkActive","active",3,"routerLink",4,"ngIf"],["routerLinkActive","active",3,"href",4,"ngIf"],["routerLinkActive","active",3,"routerLink"],["routerLinkActive","active",3,"href"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"h5",4),n.ynx(5),n._uU(6),n.BQk(),n.qZA(),n.TgZ(7,"h5",5),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.TgZ(10,"div",6),n.TgZ(11,"ul",7),n.YNc(12,T,2,1,"li",8),n.ALo(13,"sort"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",9),n._UZ(15,"router-outlet"),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(6),n.Oqu(null==r.currentUser?null:r.currentUser.username),n.xp6(2),n.AsE("",n.lcZ(9,4,"TEXTS.CUSTOMER_NUMBER")," : ",null==r.currentUser?null:r.currentUser.code,""),n.xp6(4),n.Q6J("ngForOf",n.xi3(13,6,r.menuGroups,"order")))},directives:[o.M9,c.sg,u.lC,c.O5,u.yS,u.Od],pipes:[s.X$,d.U],encapsulation:2})}}]);