(self.webpackChunkfenrir=self.webpackChunkfenrir||[]).push([[544],{14544:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthenticationModule:function(){return pe}});var o=s(33452),r=s(7035),n=s(6778),i=s(97296),a=s(16617),c=s(97597),p=s(76857),l=s(72643),d=s(46627),u=s(98995),g=s(60664),h=s(96802),m=s(46583);function f(e,t){1&e&&(l.TgZ(0,"h4"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"TEXTS.REGISTRATION_COMPLETED")))}function S(e,t){if(1&e&&l._UZ(0,"message-box",6),2&e){const e=l.oxw();l.s9C("content",e.successMsg)}}function v(e,t){1&e&&(l.TgZ(0,"p"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"MESSAGES.CHECKING_ACTIVATION")))}function w(e,t){if(1&e&&l._UZ(0,"message-box",7),2&e){const e=l.oxw();l.s9C("content",e.activationErrMsg)}}function A(e,t){1&e&&(l.TgZ(0,"div",8),l._UZ(1,"div",9),l.qZA())}function Z(e,t){if(1&e&&(l.ynx(0),l._UZ(1,"iframe",10),l.BQk()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("src",e.affilateLink,l.uOi)}}a.N.map.signupSuccess;class E{constructor(e,t,s,o,r,n,i,a,c){this.route=e,this.singUpService=t,this.toastFactory=s,this.translateService=o,this.router=r,this.translateFactory=n,this.traderService=i,this.sanitizer=a,this.trackingService=c,this.affilateLink=null,this.destroyed$=new p.xQ}ngOnInit(){let e=this.route.snapshot.params.activationCode;if(this.customerId=this.route.snapshot.params.customerId,e)return this.isProgressVisible=!0,this.activationCode=this.route.snapshot.params.activationCode,this.customerId&&this.traderService.trader.tAU&&this.traderService.trader.tAMI&&this.activationWithAffilate(),void this.singUpService.checkActivationCode(e).then(e=>{this.translateService.get("MESSAGES.ACTIVATION_SUCCESS").pipe((0,c.R)(this.destroyed$)).subscribe(e=>{this.toastFactory.success(e)}),setTimeout(e=>{this.traderService.trader.openLoginModalAfterActivation?this.router.navigate([this.translateFactory.currentLang.code,"authentication","signin"]):this.router.navigate([this.translateFactory.currentLang.code])},1e3),this.isProgressVisible=!1}).catch(e=>{e.responseCodes&&"CUSTOMER_ACTIVATED_BEFORE"===e.responseCodes[0].responseKey?this.activationErrMsg="MESSAGES.ALREADY_ACTIVATED":e.responseCodes?this.activationErrMsg="MESSAGES."+e.responseCodes[0].responseKey:this.activationErrMsg="MESSAGES.EXCEPTION",this.isProgressVisible=!1});switch(this.successType=this.route.snapshot.params.successType,this.successType){case"withEmailActivation":this.successMsg="MESSAGES.REGISTER_COMPLETE";break;case"withoutActivation":this.successMsg="MESSAGES.SIGNUP_SUCCESS_WITHOUT_ACTIVATION",this.customerId&&this.trackingService.signupSuccessWithoutActivation(Number(this.customerId));break;case"withSmsActivation":this.successMsg="MESSAGES.SIGNUP_SUCCESS_WITH_SMS_ACTIVATION";break;case"withKycException":this.successMsg="MESSAGES.REGISTER_OK_KYC_UPLOAD_FAILED";break;case"withoutSmsVerification":this.successMsg="MESSAGES.SIGNUP_SUCCESS_WITHOUT_SMS_ACTIVATION";break;case"withLivechatActivation":this.successMsg="MESSAGES.LIVECHAT_REGISTRATION_ACTIVE";break;default:this.successMsg="MESSAGES.REGISTER_COMPLETE"}}activationWithAffilate(){let e=this.traderService.trader.tAU,t=this.traderService.trader.tAMI;this.affilateLink=this.sanitizer.bypassSecurityTrustHtml(e+this.customerId+"&mid="+t)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}E.\u0275fac=function(e){return new(e||E)(l.Y36(d.gz),l.Y36(i.X4r),l.Y36(i.Uwl),l.Y36(u.sK),l.Y36(d.F0),l.Y36(i.chr),l.Y36(i._W6),l.Y36(g.H7),l.Y36(i.zVL))},E.\u0275cmp=l.Xpm({type:E,selectors:[["app-signup-success"]],decls:8,vars:6,consts:[[1,"container","signup-success"],[4,"ngIf"],["type","success","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],["type","error","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],["class","progress",4,"ngIf"],["contentCode","signupSuccess"],["type","success","icon","fa fa-exclamation-circle",3,"content"],["type","error","icon","fa fa-exclamation-circle",3,"content"],[1,"progress"],[1,"indeterminate"],[2,"display","none",3,"src"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,f,3,3,"h4",1),l.YNc(2,S,1,1,"message-box",2),l.YNc(3,v,3,3,"p",1),l.YNc(4,w,1,1,"message-box",3),l.YNc(5,A,2,0,"div",4),l.YNc(6,Z,2,1,"ng-container",1),l._UZ(7,"app-static-inner-content",5),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.successType),l.xp6(1),l.Q6J("ngIf",t.successMsg),l.xp6(1),l.Q6J("ngIf",!t.successType),l.xp6(1),l.Q6J("ngIf",t.activationErrMsg),l.xp6(1),l.Q6J("ngIf",t.isProgressVisible),l.xp6(1),l.Q6J("ngIf",t.affilateLink))},directives:[r.O5,h.n,m.W],pipes:[u.X$],encapsulation:2});var T=s(7829);a.N.map.authentication;class I{constructor(){}ngOnInit(){}}I.\u0275fac=function(e){return new(e||I)},I.\u0275cmp=l.Xpm({type:I,selectors:[["app-authentication"]],decls:2,vars:0,consts:[[1,"col","s9","rght-cntnt"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.qZA())},directives:[d.lC],encapsulation:2});var P=s(1215),x=s(63540),C=s(95352);function y(e,t){1&e&&(l.TgZ(0,"div",9),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"MESSAGES.RESET_PASSWORD_DESCRIPTION")))}function _(e,t){1&e&&(l.TgZ(0,"div",9),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"MESSAGES.RESET_PASSWORD_DESCRIPTION_SMS")))}function F(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",10),l.TgZ(1,"span",11),l.TgZ(2,"input",12),l.NdJ("ngModelChange",function(t){l.CHM(e);return l.oxw().selectedResetOption=t}),l.qZA(),l.TgZ(3,"label",13),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.qZA(),l.TgZ(6,"span",11),l.TgZ(7,"input",14),l.NdJ("ngModelChange",function(t){l.CHM(e);return l.oxw().selectedResetOption=t}),l.qZA(),l.TgZ(8,"label",15),l._uU(9),l.ALo(10,"translate"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(2),l.Q6J("ngModel",e.selectedResetOption),l.xp6(2),l.Oqu(l.lcZ(5,4,"FIELDS.SEND_WITH_EMAIL")),l.xp6(3),l.Q6J("ngModel",e.selectedResetOption),l.xp6(2),l.Oqu(l.lcZ(10,6,"FIELDS.SEND_WITH_SMS"))}}const b=function(e){return{active:e}};function O(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",21),l.TgZ(1,"div",22),l.TgZ(2,"input",23),l.NdJ("ngModelChange",function(t){l.CHM(e);return l.oxw(2).type=t})("click",function(){l.CHM(e);return l.oxw(2).changeType(1)}),l.qZA(),l.TgZ(3,"label",24),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.qZA(),l.TgZ(6,"div",22),l.TgZ(7,"input",25),l.NdJ("ngModelChange",function(t){l.CHM(e);return l.oxw(2).type=t})("click",function(){l.CHM(e);return l.oxw(2).changeType(2)}),l.qZA(),l.TgZ(8,"label",26),l._uU(9),l.ALo(10,"translate"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngClass",l.VKq(12,b,1==e.type)),l.xp6(1),l.Q6J("ngModel",e.type)("value",1),l.xp6(2),l.Oqu(l.lcZ(5,8,"FIELDS.SEND_WITH_USERNAME")),l.xp6(2),l.Q6J("ngClass",l.VKq(14,b,2==e.type)),l.xp6(1),l.Q6J("ngModel",e.type)("value",2),l.xp6(2),l.Oqu(l.lcZ(10,10,"FIELDS.SEND_WITH_EMAIL"))}}function M(e,t){if(1&e&&(l.TgZ(0,"div",27),l._UZ(1,"input",28),l.ALo(2,"translate"),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.s9C("placeholder",l.lcZ(2,2,"FIELDS.USERNAME")),l.Q6J("formControl",e.forgotPasswordF.controls.username)}}const q=function(){return{param0:""}};function N(e,t){if(1&e&&(l.TgZ(0,"div",27),l._UZ(1,"input",29),l.ALo(2,"translate"),l.qZA()),2&e){const e=l.oxw(2);l.xp6(1),l.s9C("placeholder",l.xi3(2,2,"FIELDS.EMAIL",l.DdM(5,q))),l.Q6J("formControl",e.forgotPasswordF.controls.email)}}const U=function(e){return{param0:e}};function R(e,t){if(1&e&&(l._UZ(0,"message-box",30),l.ALo(1,"translate")),2&e){const e=l.oxw(2);l.Q6J("type","success")("content",l.xi3(1,2,"MESSAGES.FORGET_PASSWORD_MESSAGE",l.VKq(5,U,e.forgotPasswordF.controls.email.value)))}}function L(e,t){if(1&e){const e=l.EpF();l.ynx(0),l.YNc(1,O,11,16,"div",16),l.TgZ(2,"form",17),l.NdJ("submit",function(t){l.CHM(e);const s=l.oxw();return t.preventDefault(),!s.success&&s.sendLink()}),l.YNc(3,M,3,4,"div",18),l.YNc(4,N,3,6,"div",18),l.TgZ(5,"button",19),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.YNc(8,R,2,7,"message-box",20),l.qZA(),l.BQk()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("ngIf","all"===e.selectedEmailResetOption),l.xp6(1),l.Q6J("formGroup",e.forgotPasswordF),l.xp6(1),l.Q6J("ngIf",1===e.type),l.xp6(1),l.Q6J("ngIf",2===e.type),l.xp6(1),l.Q6J("disabled",!e.forgotPasswordF.valid),l.xp6(1),l.hij(" ",l.lcZ(7,7,"LINKS.SEND_ACTIVATION_CODE")," "),l.xp6(2),l.Q6J("ngIf",e.success)}}function J(e,t){if(1&e&&l._UZ(0,"field-messages",34),2&e){const e=l.oxw(2);l.Q6J("field-errors",e.forgotPasswordSmsF.controls.phone.errors)}}const D=function(){return{param0:""}};function Q(e,t){if(1&e){const e=l.EpF();l.ynx(0),l.TgZ(1,"form",31),l.NdJ("submit",function(t){l.CHM(e);const s=l.oxw();return t.preventDefault(),s.sendActivationCode()}),l.TgZ(2,"input",32),l.NdJ("intlTelInputObject",function(t){l.CHM(e);return l.oxw().phoneInputObject(t)})("hasError",function(t){l.CHM(e);return l.oxw().phoneInputObjectHasError(t)})("countryChange",function(t){l.CHM(e);return l.oxw().onCountryChange(t)}),l.ALo(3,"translate"),l.qZA(),l.YNc(4,J,1,1,"field-messages",33),l.TgZ(5,"button",19),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.qZA(),l.BQk()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("formGroup",e.forgotPasswordSmsF),l.xp6(1),l.s9C("placeholder",l.xi3(3,8,"FIELDS.PHONE",l.DdM(13,D))),l.Q6J("id",e.phone)("formControl",e.forgotPasswordSmsF.controls.phone)("ng2TelInputOptions",e.telInputOptions),l.xp6(2),l.Q6J("ngIf",e.forgotPasswordSmsF.controls.phone.errors&&e.forgotPasswordSmsF.controls.phone.dirty),l.xp6(1),l.Q6J("disabled",e.disablePhone),l.xp6(1),l.hij(" ",l.lcZ(7,11,"LINKS.SEND_ACTIVATION_CODE_SMS")," ")}}function Y(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"sms-verification",35),l.NdJ("navigateRoute",function(){l.CHM(e);return l.oxw().navigateSuccessPage()}),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("phone",e.smsVerificationPhone)("isForgotPassword",!0)("remaningTime",e.smsVerificationRemTime)}}a.N.map.forgotPassword;class k{constructor(e,t,s,r,n){this.userService=e,this.fb=t,this.translateFactory=s,this.traderService=r,this.smsVerificationService=n,this.isAlive$=new p.xQ,this.message={message:"",list:[],error:!1},this.type=1,this.telInputOptions={preferredCountries:a.N.trader.preferredCountriesPhone?a.N.trader.preferredCountriesPhone:[a.N.trader.defaultLang.code],onlyCountries:a.N.trader.forcedPhoneCountry?a.N.trader.forcedPhoneCountry:[],separateDialCode:!0,nationalMode:!0},this.disablePhone=!0,this.forgotPasswordF=t.group({username:new o.NI("",o.kI.required),email:new o.NI("")}),this.forgotPasswordSmsF=t.group({phone:new o.NI("",o.kI.required)}),this.forgotPasswordSmsF.get("phone").valueChanges.pipe((0,c.R)(this.isAlive$)).subscribe(()=>{const e=this.forgotPasswordSmsF.controls.phone.valid&&this.phoneInstance.isValidNumber();this.disablePhone=!e&&(0,i.zmK)(this.phoneInstance,this.forgotPasswordSmsF.controls.phone.value,this.forgotPasswordSmsF.controls.phone.valid)})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.traderDefaults=this.traderService.trader,this.initResetPasswordOptions()}ngOnDestroy(){this.isAlive$.next()}changeType(e){this.forgotPasswordF.controls.username.clearValidators(),this.forgotPasswordF.controls.username.reset(),this.forgotPasswordF.controls.email.clearValidators(),this.forgotPasswordF.controls.email.patchValue(""),1===e?this.forgotPasswordF.controls.username.setValidators([o.kI.required]):this.forgotPasswordF.controls.email.setValidators([o.kI.required,o.kI.email]),this.forgotPasswordF.controls.username.updateValueAndValidity(),this.forgotPasswordF.controls.email.updateValueAndValidity()}sendLink(){const e=this,t=1===this.type?this.forgotPasswordF.controls.username.value:this.forgotPasswordF.controls.email.value;this.userService.forgotPassword(t).then(e=>{this.success=!0},t=>{this.success=!1,e.message.error=!0,t.length>1?e.message.list=t:e.message.message=t})}setResetOption(e){this.selectedResetOption=e}initResetPasswordOptions(){this.traderDefaults.tForgotPassMethod&&"all"!==this.traderDefaults.tForgotPassMethod&&(this.selectedResetOption=this.traderDefaults.tForgotPassMethod.toLocaleLowerCase()),this.traderDefaults.tForgotPassMethod||(this.selectedResetOption="email"),this.traderDefaults.tForgotPassMethodEmailFields&&(this.selectedEmailResetOption=this.traderDefaults.tForgotPassMethodEmailFields,"email"===this.traderDefaults.tForgotPassMethodEmailFields&&(this.type=2,this.changeType("2")))}sendActivationCode(){this.smsVerificationPhone=this.phoneInstance.getNumber().replace("+","");let e={phone:this.smsVerificationPhone,messageType:3},t=new i.qPv(e);this.smsVerificationRemTime=0,this.smsVerificationService.resendSms(t).then(e=>{this.smsVerificationRemTime=e||e.data||60}).catch(e=>{e.error&&e.error.responseCodes&&"SMS_CODE_NOT_TIMED_OUT_YET"===e.error.responseCodes[0].responseKey&&setTimeout(t=>{this.smsVerificationRemTime=e&&e.error.data||60},100)})}phoneInputObject(e){this.phoneInstance=e}onCountryChange(e){this.lastSelectedCountry=e.iso2}phoneInputObjectHasError(e){if(e||a.N.trader.ignorePhoneValidation)this.forgotPasswordSmsF.controls.phone.setErrors(null);else{const t=(0,i.zmK)(this.phoneInstance,this.forgotPasswordSmsF.controls.phone.value,e);this.forgotPasswordSmsF.controls.phone.setErrors(t?{invalidPhone:t}:null)}}navigateSuccessPage(){}}k.\u0275fac=function(e){return new(e||k)(l.Y36(i.Ye3),l.Y36(o.qu),l.Y36(i.chr),l.Y36(i._W6),l.Y36(i.El7))},k.\u0275cmp=l.Xpm({type:k,selectors:[["ng-component"]],decls:14,vars:9,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"forgoten-password-header"],["class","description",4,"ngIf"],["class","slct-rst-opt",4,"ngIf"],[4,"ngIf"],[3,"phone","isForgotPassword","remaningTime","navigateRoute",4,"ngIf"],[1,"description"],[1,"slct-rst-opt"],[1,"radio-label"],["value","email","name","resetOpt","type","radio","id","for-emailOpt",3,"ngModel","ngModelChange"],["for","for-emailOpt"],["value","sms","name","resetOpt","type","radio","id","for-smsOpt",3,"ngModel","ngModelChange"],["for","for-smsOpt"],["class","rst-tbs",4,"ngIf"],["action","#",1,"login-form",3,"formGroup","submit"],["class","input-field",4,"ngIf"],[1,"btn","login-btn","fbtn",3,"disabled"],[3,"type","content",4,"ngIf"],[1,"rst-tbs"],[1,"tb-itm",3,"ngClass"],["name","type","type","radio","id","for-username",3,"ngModel","value","ngModelChange","click"],["for","for-username"],["name","type","type","radio","id","for-email",3,"ngModel","value","ngModelChange","click"],["for","for-email"],[1,"input-field"],["name","username","type","text",1,"validate","browser-default",3,"placeholder","formControl"],["name","email","type","email",1,"validate","browser-default",3,"placeholder","formControl"],[3,"type","content"],[1,"login-form",3,"formGroup","submit"],["ng2TelInput","","type","text","required","",1,"validate","browser-default",3,"id","placeholder","formControl","ng2TelInputOptions","intlTelInputObject","hasError","countryChange"],[3,"field-errors",4,"ngIf"],[3,"field-errors"],[3,"phone","isForgotPassword","remaningTime","navigateRoute"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h4"),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.qZA(),l.YNc(8,y,3,3,"div",5),l.YNc(9,_,3,3,"div",5),l.YNc(10,F,11,8,"div",6),l.YNc(11,L,9,9,"ng-container",7),l.YNc(12,Q,8,14,"ng-container",7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(13,Y,1,3,"sms-verification",8)),2&e&&(l.xp6(6),l.hij(" ",l.lcZ(7,7,"LINKS.FORGOT_PASSWORD")," "),l.xp6(2),l.Q6J("ngIf","email"===t.selectedResetOption),l.xp6(1),l.Q6J("ngIf","sms"===t.selectedResetOption),l.xp6(1),l.Q6J("ngIf","all"===t.traderDefaults.tForgotPassMethod),l.xp6(1),l.Q6J("ngIf","email"===t.selectedResetOption),l.xp6(1),l.Q6J("ngIf","sms"===t.selectedResetOption),l.xp6(1),l.Q6J("ngIf",t.smsVerificationRemTime))},directives:[r.O5,o._,o.Fj,o.JJ,o.On,o._Y,o.JL,o.sg,r.mk,o.oH,m.W,P._,o.Q7,x.Y,C.C],pipes:[u.X$],encapsulation:2});var G=s(54935);a.N.map.signin;class V{constructor(){}ngOnInit(){}}V.\u0275fac=function(e){return new(e||V)},V.\u0275cmp=l.Xpm({type:V,selectors:[["app-signin"]],decls:2,vars:0,consts:[[1,"signin-page"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"app-login"),l.qZA())},directives:[G.G],encapsulation:2});var W=s(23375),H=s(33418);function K(e,t){1&e&&(l.TgZ(0,"div",12),l._UZ(1,"div",13),l.qZA())}function X(e,t){if(1&e&&l._UZ(0,"message-box",14),2&e){const e=l.oxw();l.Q6J("type",e.error)("content",e.error.message)}}a.N.map.resetPassword;class j{constructor(e,t,s,r,n,i,a){this.route=e,this.router=t,this.translateFactory=s,this.fb=r,this.resetPasswordService=n,this.toastFactory=i,this.translate=a,this.destroyed$=new p.xQ,this.resetPasswordForm=this.fb.group({token:new o.NI(""),password:new o.NI("",[o.kI.required])})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.route.params.pipe((0,c.R)(this.destroyed$)).subscribe(e=>{this.token=e.token,this.token?this.resetPasswordForm.patchValue({token:this.token}):this.router.navigate([this.currentLang,"authentication","signin"])})}resetPassword(){if(!this.resetPasswordForm.valid){for(const e in this.resetPasswordForm.controls)this.resetPasswordForm.controls[e].markAsDirty();return}const e={requestBody:{token:this.resetPasswordForm.value.token,newPassword:this.resetPasswordForm.value.password}};this.inProgress=!0,this.resetPasswordService.resetPassword(e).then(()=>{this.router.navigate([this.currentLang,"authentication","signin"]),this.translate.get("MESSAGES.PASSWORD_UPDATE").pipe((0,c.R)(this.destroyed$)).subscribe(e=>{this.toastFactory.success(e)})}).catch(e=>{this.inProgress=!1,this.error={message:"MESSAGES."+e.error.responseCodes[0].responseKey}})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function $(e,t){if(1&e&&l._UZ(0,"message-box",4),2&e){const e=l.oxw();l.Q6J("content","MESSAGES."+e.error)}}function z(e,t){1&e&&l._UZ(0,"message-box",5)}j.\u0275fac=function(e){return new(e||j)(l.Y36(d.gz),l.Y36(d.F0),l.Y36(i.chr),l.Y36(o.qu),l.Y36(i.W5j),l.Y36(i.Uwl),l.Y36(u.sK))},j.\u0275cmp=l.Xpm({type:j,selectors:[["reset-password"]],decls:18,vars:18,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"login-form",3,"formGroup","submit"],[1,"input-field","bubble"],["name","password","type","password","id","new-password",1,"validate","browser-default",3,"placeholder","formControl"],[3,"model","upper","lower","number","length"],["el","new-password"],[1,"btn","login-btn","fbtn"],["class","progress",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"progress"],[1,"indeterminate"],[3,"type","content"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"h4"),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"form",4),l.NdJ("submit",function(){return t.resetPassword()}),l.TgZ(8,"div",5),l._UZ(9,"input",6),l.ALo(10,"translate"),l._UZ(11,"bubble-validator",7),l._UZ(12,"password-eye",8),l.qZA(),l.TgZ(13,"button",9),l._uU(14),l.ALo(15,"translate"),l.qZA(),l.YNc(16,K,2,0,"div",10),l.YNc(17,X,1,2,"message-box",11),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(5),l.Oqu(l.lcZ(6,12,"FIELDS.RESET_PASSWORD")),l.xp6(2),l.Q6J("formGroup",t.resetPasswordForm),l.xp6(2),l.s9C("placeholder",l.lcZ(10,14,"FIELDS.PASSWORD")),l.Q6J("formControl",t.resetPasswordForm.controls.password),l.xp6(2),l.Q6J("model",t.resetPasswordForm.controls.password)("upper",1)("lower",1)("number",1)("length",6),l.xp6(3),l.Oqu(l.lcZ(15,16,"FIELDS.RESET_PASSWORD")),l.xp6(2),l.Q6J("ngIf",t.inProgress),l.xp6(1),l.Q6J("ngIf",t.error))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.oH,W.M,H.J,r.O5,m.W],pipes:[u.X$],encapsulation:2});a.N.map.customerOTPGa;class B{constructor(e,t){this.route=e,this.customerOTPGaService=t,this.qr=""}ngOnInit(){const e={requestBody:this.route.snapshot.queryParams.code,device:"d",languageId:1};this.customerOTPGaService.checkGACode(e).then(e=>{this.qr=e.data.data},e=>{this.error=e.error.responseCodes[0].responseKey,this.qr=""})}}function ee(e,t){1&e&&(l.TgZ(0,"div",14),l._UZ(1,"div",15),l.qZA())}function te(e,t){if(1&e&&l._UZ(0,"message-box",16),2&e){const e=l.oxw();l.Q6J("type",e.error)("content",e.error.message)}}B.\u0275fac=function(e){return new(e||B)(l.Y36(d.gz),l.Y36(i.mdT))},B.\u0275cmp=l.Xpm({type:B,selectors:[["app-customer-otp-ga"]],decls:4,vars:3,consts:[[1,"customer-otp-ga"],[3,"src"],["type","error","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],["type","success","icon","fa fa-check-circle","content","MESSAGES.OTP_SUCCESS",4,"ngIf"],["type","error","icon","fa fa-exclamation-circle",3,"content"],["type","success","icon","fa fa-check-circle","content","MESSAGES.OTP_SUCCESS"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.YNc(2,$,1,1,"message-box",2),l.YNc(3,z,1,0,"message-box",3),l.qZA()),2&e&&(l.xp6(1),l.Q6J("src",t.qr,l.LSH),l.xp6(1),l.Q6J("ngIf",!!t.error),l.xp6(1),l.Q6J("ngIf",!t.error))},directives:[r.O5,m.W],encapsulation:2});a.N.map.vipResetPassword;class se{constructor(e,t,s,r){this.userService=e,this.router=t,this.resetPasswordService=s,this.translateFactory=r,this.termsAndConditionsModalActions=new l.vpe,this.privacyPolicyModalActions=new l.vpe,this.values={tVal:!1,pVal:!1},this.vipResetPasswordForm=new o.cw({oldPassword:new o.NI(null,o.kI.required),newPassword:new o.NI(null,o.kI.required)})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.checkForHasVipUser()}checkForHasVipUser(){this.userService.vipUser||this.router.navigate([this.currentLang,"authentication","signin"]).then(()=>{location.reload()})}resetPassword(){if(!this.vipResetPasswordForm.valid){for(const e in this.vipResetPasswordForm.controls)this.vipResetPasswordForm.controls[e].value||(this.vipResetPasswordForm.controls[e].markAsTouched(),this.vipResetPasswordForm.controls[e].markAsDirty(),this.vipResetPasswordForm.controls[e].setErrors({required:!0}));return}this.inProgress=!0;const e={username:this.userService.vipUser.username,oldPassword:this.vipResetPasswordForm.controls.oldPassword.value,newPassword:this.vipResetPasswordForm.controls.newPassword.value},t=new i.qPv(e);this.resetPasswordService.vipResetPassword(t).then(e=>{this.userService.prepareUser({data:this.userService.vipUser,responseCodes:[],success:!0}),this.router.navigate(["/",this.currentLang]),setTimeout(()=>{location.reload()},500),this.inProgress=!1}).catch(e=>{this.inProgress=!1,this.error={message:"MESSAGES."+e.error.responseCodes[0].responseKey}})}openGenericModal(e,t){e.preventDefault(),this[t+"ModalActions"].emit({action:"modal",params:["open"]})}closeGenericModal(e){this[e+"ModalActions"].emit({action:"modal",params:["close"]})}}se.\u0275fac=function(e){return new(e||se)(l.Y36(i.Ye3),l.Y36(d.F0),l.Y36(i.W5j),l.Y36(i.chr))},se.\u0275cmp=l.Xpm({type:se,selectors:[["app-vip-reset-password"]],decls:23,vars:27,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"login-form",3,"formGroup","submit"],[1,"input-field","bubble"],["name","oldPassword","type","password","id","old-password",1,"validate","browser-default",3,"placeholder","formControl"],[3,"model","upper","lower","number","length"],["el","old-password"],["name","newPassword","type","password","id","new-password",1,"validate","browser-default",3,"placeholder","formControl"],["el","new-password"],[1,"btn","login-btn","fbtn"],["class","progress",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"progress"],[1,"indeterminate"],[3,"type","content"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"h4"),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"form",4),l.NdJ("submit",function(){return t.resetPassword()}),l.TgZ(8,"div",5),l._UZ(9,"input",6),l.ALo(10,"translate"),l._UZ(11,"bubble-validator",7),l._UZ(12,"password-eye",8),l.qZA(),l.TgZ(13,"div",5),l._UZ(14,"input",9),l.ALo(15,"translate"),l._UZ(16,"bubble-validator",7),l._UZ(17,"password-eye",10),l.qZA(),l.TgZ(18,"button",11),l._uU(19),l.ALo(20,"translate"),l.qZA(),l.YNc(21,ee,2,0,"div",12),l.YNc(22,te,1,2,"message-box",13),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(5),l.Oqu(l.lcZ(6,19,"FIELDS.RESET_PASSWORD")),l.xp6(2),l.Q6J("formGroup",t.vipResetPasswordForm),l.xp6(2),l.s9C("placeholder",l.lcZ(10,21,"FIELDS.OLD_PASSWORD")),l.Q6J("formControl",t.vipResetPasswordForm.controls.oldPassword),l.xp6(2),l.Q6J("model",t.vipResetPasswordForm.controls.oldPassword)("upper",1)("lower",1)("number",1)("length",6),l.xp6(3),l.s9C("placeholder",l.lcZ(15,23,"FIELDS.NEW_PASSWORD")),l.Q6J("formControl",t.vipResetPasswordForm.controls.newPassword),l.xp6(2),l.Q6J("model",t.vipResetPasswordForm.controls.newPassword)("upper",1)("lower",1)("number",1)("length",6),l.xp6(3),l.Oqu(l.lcZ(20,25,"FIELDS.RESET_PASSWORD")),l.xp6(2),l.Q6J("ngIf",t.inProgress),l.xp6(1),l.Q6J("ngIf",t.error))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.oH,W.M,H.J,r.O5,m.W],pipes:[u.X$],encapsulation:2});var oe=s(6999);function re(e,t){1&e&&(l._UZ(0,"message-box",10),l.ALo(1,"translate")),2&e&&l.Q6J("type","success")("content",l.lcZ(1,2,"TEXTS.FORGOT_USERNAME_SUCCESS"))}const ne=function(){return{param0:""}};a.N.map.forgotUsername;class ie{constructor(e){this.userService=e,this.forgotUsernameForm=new o.cw({email:new o.NI("",[o.kI.required,o.kI.pattern(i.aXf.email)])}),this.success=!1}recoverUsername(){this.userService.forgotUsername(this.forgotUsernameForm.value.email).then(()=>{this.success=!0})}}ie.\u0275fac=function(e){return new(e||ie)(l.Y36(i.Ye3))},ie.\u0275cmp=l.Xpm({type:ie,selectors:[["ng-component"]],decls:18,vars:17,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"description"],["action","#",1,"login-form",3,"formGroup","ngSubmit"],[1,"input-field"],["name","email","type","email","formControlName","email",1,"validate","browser-default",3,"placeholder"],[1,"btn","login-btn","fbtn",3,"disabled"],[3,"type","content",4,"ngIf"],[3,"type","content"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"h4"),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"div",4),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"form",5),l.NdJ("ngSubmit",function(){return t.recoverUsername()}),l.TgZ(11,"div",6),l._UZ(12,"input",7),l.ALo(13,"translate"),l.qZA(),l.TgZ(14,"button",8),l._uU(15),l.ALo(16,"translate"),l.qZA(),l.YNc(17,re,2,4,"message-box",9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(5),l.hij(" ",l.lcZ(6,7,"LINKS.FORGOT_USERNAME")," "),l.xp6(3),l.Oqu(l.lcZ(9,9,"MESSAGES.RECOVER_USERNAME_DESCRIPTION")),l.xp6(2),l.Q6J("formGroup",t.forgotUsernameForm),l.xp6(2),l.s9C("placeholder",l.xi3(13,11,"FIELDS.EMAIL",l.DdM(16,ne))),l.xp6(2),l.Q6J("disabled",!t.forgotUsernameForm.valid),l.xp6(1),l.hij(" ",l.lcZ(16,14,"LINKS.SEND_USERNAME")," "),l.xp6(2),l.Q6J("ngIf",t.success))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,r.O5,m.W],pipes:[u.X$],encapsulation:2});const ae=[{path:"",pathMatch:"full",redirectTo:"auth/signup"},{path:"vip-reset-password",component:se,data:{name:"reset-password",meta:"resetPassword"}},{path:"",component:I,canActivate:[i.$Tg],children:[{path:"signup",component:T.X,data:{name:"signup",meta:"signup"}},{path:"minimal-signup",component:T.X,data:{name:"minimal-signup",meta:"signup"},canActivate:[i.FCN,oe.w]},{path:"signup-success/:successType",component:E,data:{name:"signup-success"}},{path:"signup-success/:successType/:customerId",component:E,data:{name:"signup-success"}},{path:"activation/:activationCode",component:E,pathMatch:"full",data:{name:"activation"}},{path:"activation/:activationCode/:customerId",component:E,data:{name:"activation"}},{path:"signin",component:V,data:{name:"signin",meta:"signin"}},{path:"signin-with-activation/:activationCode",component:V,data:{name:"signin-with-activation",meta:"signin"},canActivate:[oe.w]},{path:"forgot-password",component:k,data:{name:"forgot-password",meta:"forgotPassword"}},{path:"forgot-username",component:ie,data:{name:"forgot-username",meta:"forgotUsername"}},{path:"reset-password/:token",component:j,data:{name:"reset-password",meta:"resetPassword"}},{path:"customerOTPGa",component:B,pathMatch:"full",data:{name:"customer-otp-ga"}}]}],ce=d.Bz.forChild(ae);class pe{}pe.\u0275fac=function(e){return new(e||pe)},pe.\u0275mod=l.oAB({type:pe}),pe.\u0275inj=l.cJS({providers:[],imports:[[r.ez,n.m,ce,o.u5,o.UX]]})}}]);